{"version":3,"file":"3.0fb90aab38266b82fd85.chunk.js","sources":["webpack:///./src/app/backend-api/identity-registry/autogen/model/Organization.ts?2cd9**","webpack:///./src/app/backend-api/identity-registry/autogen/model/Service.ts?b79f**","webpack:///./src/app/pages/org-identity-registry/services/view-models/ServiceViewModel.ts?6f60**","webpack:///./src/app/pages/org-service-registry/shared/services/sr-search-requests.service.ts?930f**","webpack:///./src/app/pages/org-service-registry/shared/services/sr-view-model.service.ts?ef3a**","webpack:///./src/app/pages/organizations/components/organization-details/organization-details.component.ts","webpack:///./src/app/pages/organizations/components/organization-details/organization-details.html","webpack:///./src/app/pages/organizations/components/organization-list/organization-list.component.ts","webpack:///./src/app/pages/organizations/components/organization-list/organization-list.html","webpack:///./src/app/pages/organizations/organizations.component.ts","webpack:///./src/app/pages/organizations/organizations.module.ts","webpack:///./src/app/pages/organizations/organizations.routing.ts","webpack:///./src/app/pages/shared/components/certificate-issue-new/certificate-issue-new.component.ts?53b6**","webpack:///./src/app/pages/shared/components/certificate-issue-new/certificate-issue-new.html?9ab8**","webpack:///./src/app/pages/shared/components/certificate-revoke/certificate-revoke.component.ts?686d**","webpack:///./src/app/pages/shared/components/certificate-revoke/certificate-revoke.html?6ce5**","webpack:///./src/app/pages/shared/components/certificates-table/certificates-table.component.ts?5f5d**","webpack:///./src/app/pages/shared/components/certificates-table/certificates-table.html?947c**","webpack:///./src/app/pages/shared/components/certificates-table/certificates-table.scss?89ae**","webpack:///./src/app/pages/shared/components/designs-table/designs-table.component.ts?7abc**","webpack:///./src/app/pages/shared/components/designs-table/designs-table.html?4ed3**","webpack:///./src/app/pages/shared/components/endorsed-by-list/endorsed-by-list.component.ts?44b1**","webpack:///./src/app/pages/shared/components/endorsed-by-list/endorsed-by-list.html?a249**","webpack:///./src/app/pages/shared/components/instances-table/instances-table.component.ts?6cf2**","webpack:///./src/app/pages/shared/components/instances-table/instances-table.html?c375**","webpack:///./src/app/pages/shared/components/organizaton-details-table/organization-details-table.component.ts?e2c8**","webpack:///./src/app/pages/shared/components/organizaton-details-table/organization-details-table.html?0ef1**","webpack:///./src/app/pages/shared/components/service-details-view/service-details-view.component.ts?35f4**","webpack:///./src/app/pages/shared/components/service-details-view/service-details-view.html?e0c6**","webpack:///./src/app/pages/shared/components/service-registry-search/service-registry-search.component.ts?6831**","webpack:///./src/app/pages/shared/components/service-registry-search/service-registry-search.html?4ed3**","webpack:///./src/app/pages/shared/components/service-registry-search/service-registry-search.scss?370b**","webpack:///./src/app/pages/shared/components/services-table/services-table.component.ts?c9f1**","webpack:///./src/app/pages/shared/components/services-table/services-table.html?441e**","webpack:///./src/app/pages/shared/components/specifications-table/specifications-table.component.ts?d0a3**","webpack:///./src/app/pages/shared/components/specifications-table/specifications-table.html?334b**","webpack:///./src/app/pages/shared/services/organization-view-model.service.ts?e7fe**","webpack:///./src/app/pages/shared/shared.module.ts?b542**"],"sourcesContent":["/**\r\n * Maritime Connectivity Platform Identity Registry API\r\n * MCP Identity Registry API can be used for managing entities in the Maritime Connectivity Platform.\r\n *\r\n * OpenAPI spec version: 0.7.0\r\n * Contact: info@maritimecloud.net\r\n *\r\n * NOTE: This class is auto generated by the swagger code generator program.\r\n * https://github.com/swagger-api/swagger-codegen.git\r\n * Do not edit the class manually.\r\n */\r\n\r\nimport * as models from './models';\r\n\r\nexport interface Organization {\r\n    address: string;\r\n\r\n    /**\r\n     * Cannot be created/updated by editing in the model. Use the dedicate create and revoke calls.\r\n     */\r\n    certificates?: Array<models.Certificate>;\r\n\r\n    country: string;\r\n\r\n    createdAt?: Date;\r\n\r\n    email: string;\r\n\r\n    /**\r\n     * Type of identity federation used by organization\r\n     */\r\n    federationType?: Organization.FederationTypeEnum;\r\n\r\n    identityProviderAttributes?: Array<models.IdentityProviderAttribute>;\r\n\r\n    /**\r\n     * The Maritime Resource Name\r\n     */\r\n    mrn: string;\r\n\r\n    /**\r\n     * The name of the organization\r\n     */\r\n    name: string;\r\n\r\n    updatedAt?: Date;\r\n\r\n    url: string;\r\n\r\n}\r\nexport namespace Organization {\r\n    export enum FederationTypeEnum {\r\n        TestIdp = <any> 'test-idp',\r\n        OwnIdp = <any> 'own-idp',\r\n        ExternalIdp = <any> 'external-idp'\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/backend-api/identity-registry/autogen/model/Organization.ts","/**\r\n * Maritime Connectivity Platform Identity Registry API\r\n * MCP Identity Registry API can be used for managing entities in the Maritime Connectivity Platform.\r\n *\r\n * OpenAPI spec version: 0.7.0\r\n * Contact: info@maritimecloud.net\r\n *\r\n * NOTE: This class is auto generated by the swagger code generator program.\r\n * https://github.com/swagger-api/swagger-codegen.git\r\n * Do not edit the class manually.\r\n */\r\n\r\nimport * as models from './models';\r\n\r\nexport interface Service {\r\n    /**\r\n     * The domain name the service will be available on. Used in the issued certificates for the service.\r\n     */\r\n    certDomainName?: string;\r\n\r\n    /**\r\n     * Cannot be created/updated by editing in the model. Use the dedicate create and revoke calls.\r\n     */\r\n    certificates?: Array<models.Certificate>;\r\n\r\n    createdAt?: Date;\r\n\r\n    /**\r\n     * The version of this service instance.\r\n     */\r\n    instanceVersion: string;\r\n\r\n    /**\r\n     * The Maritime Resource Name\r\n     */\r\n    mrn: string;\r\n\r\n    name: string;\r\n\r\n    /**\r\n     * Access type of the OpenId Connect client\r\n     */\r\n    oidcAccessType?: Service.OidcAccessTypeEnum;\r\n\r\n    /**\r\n     * The client id of the service in Maritime Cloud. Will be generated.\r\n     */\r\n    oidcClientId?: string;\r\n\r\n    /**\r\n     * The client secret of the service in Maritime Cloud. Will be generated.\r\n     */\r\n    oidcClientSecret?: string;\r\n\r\n    /**\r\n     * The OpenId Connect redirect uri of service.\r\n     */\r\n    oidcRedirectUri?: string;\r\n\r\n    /**\r\n     * Permissions as assigned from the organization\r\n     */\r\n    permissions?: string;\r\n\r\n    updatedAt?: Date;\r\n\r\n    vessel?: models.Vessel;\r\n\r\n}\r\nexport namespace Service {\r\n    export enum OidcAccessTypeEnum {\r\n        Public = <any> 'public',\r\n        BearerOnly = <any> 'bearer-only',\r\n        Confidential = <any> 'confidential'\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/backend-api/identity-registry/autogen/model/Service.ts","import {EnumsHelper} from \"../../../../shared/enums-helper\";\r\nimport {Service} from \"../../../../backend-api/identity-registry/autogen/model/Service\";\r\nimport OidcAccessTypeEnum = Service.OidcAccessTypeEnum;\r\n\r\nexport interface OidcAccessTypeViewModel {\r\n\tvalue?:string;\r\n\tlabel?:string;\r\n}\r\n\r\nexport class ServiceViewModel {\r\n\r\n\r\n\tpublic static getAllOidcAccessTypes(): Array<OidcAccessTypeViewModel> {\r\n\t\tlet models:Array<OidcAccessTypeViewModel> = [];\r\n\r\n\t\tlet keysAndValues = EnumsHelper.getKeysAndValuesFromEnum(OidcAccessTypeEnum);\r\n\t\tkeysAndValues.forEach(enumKeyAndValue => {\r\n\t\t\tlet model:OidcAccessTypeViewModel = {};\r\n\t\t\tmodel.value = enumKeyAndValue.value;\r\n\t\t\tmodel.label = ServiceViewModel.getLabelForEnum(enumKeyAndValue.value);\r\n\t\t\tmodels.push(model);\r\n\t\t});\r\n\t\treturn models;\r\n\t}\r\n\r\n\r\n\tpublic static getLabelForEnum(oidcAccessTypeEnum:OidcAccessTypeEnum):string {\r\n\t\tif (!oidcAccessTypeEnum) {\r\n\t\t\treturn '';\r\n\t\t}\r\n\t\tvar text = '';\r\n\t\tswitch (oidcAccessTypeEnum) {\r\n\t\t\tcase OidcAccessTypeEnum.BearerOnly: {\r\n\t\t\t\ttext = 'Bearer only';\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase OidcAccessTypeEnum.Confidential: {\r\n\t\t\t\ttext = 'Confidential';\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase OidcAccessTypeEnum.Public: {\r\n\t\t\t\ttext = 'Public';\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tdefault : {\r\n\t\t\t\ttext = OidcAccessTypeEnum[oidcAccessTypeEnum];\r\n\t\t\t\tif (!text) {\r\n\t\t\t\t\ttext = ''+ oidcAccessTypeEnum;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn text;\r\n\t}\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/pages/org-identity-registry/services/view-models/ServiceViewModel.ts","import {Injectable, OnInit} from '@angular/core';\r\nimport {Specification} from \"../../../../backend-api/service-registry/autogen/model/Specification\";\r\nimport {LabelValueModel} from \"../../../../theme/components/mcLabelValueTable/mcLabelValueTable.component\";\r\nimport {Design} from \"../../../../backend-api/service-registry/autogen/model/Design\";\r\nimport {Instance} from \"../../../../backend-api/service-registry/autogen/model/Instance\";\r\nimport {ServiceRegistrySearchRequest} from \"../../../shared/components/service-registry-search/ServiceRegistrySearchRequest\";\r\n\r\n@Injectable()\r\nexport class SrSearchRequestsService {\r\n\tprivate searchRequests: { [key: string]: ServiceRegistrySearchRequest } = {};\r\n  constructor() {\r\n  }\r\n\r\n  // Returns null if none found\r\n  public getSearchRequest(key:string) : ServiceRegistrySearchRequest {\r\n  \treturn this.searchRequests[key];\r\n\t}\r\n\r\n\tpublic addSearchRequest(key:string, searchRequest:ServiceRegistrySearchRequest) {\r\n  \tthis.searchRequests[key] = searchRequest;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/pages/org-service-registry/shared/services/sr-search-requests.service.ts","import {Injectable, OnInit} from '@angular/core';\r\nimport {Specification} from \"../../../../backend-api/service-registry/autogen/model/Specification\";\r\nimport {LabelValueModel} from \"../../../../theme/components/mcLabelValueTable/mcLabelValueTable.component\";\r\nimport {Design} from \"../../../../backend-api/service-registry/autogen/model/Design\";\r\nimport {Instance} from \"../../../../backend-api/service-registry/autogen/model/Instance\";\r\n\r\n@Injectable()\r\nexport class SrViewModelService implements OnInit {\r\n  constructor() {\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n  public generateLabelValuesForSpecification(specification:Specification, organizationName:string):Array<LabelValueModel> {\r\n    var labelValues:Array<LabelValueModel> = undefined;\r\n    if (specification) {\r\n      labelValues = [];\r\n      labelValues.push({label: 'MRN', valueHtml: specification.specificationId});\r\n      labelValues.push({label: 'Name', valueHtml: specification.name});\r\n      labelValues.push({label: 'Version', valueHtml: specification.version});\r\n\t    labelValues.push({label: 'Status', valueHtml: specification.status});\r\n\t\t  labelValues.push({label: 'Organization', valueHtml: organizationName});\r\n      labelValues.push({label: 'Description', valueHtml: specification.description});\r\n    }\r\n    return labelValues\r\n  }\r\n\r\n  public generateLabelValuesForDesign(design:Design, organizationName:string):Array<LabelValueModel> {\r\n    var labelValues:Array<LabelValueModel> = undefined;\r\n    if (design) {\r\n      labelValues = [];\r\n      labelValues.push({label: 'MRN', valueHtml: design.designId});\r\n      labelValues.push({label: 'Name', valueHtml: design.name});\r\n      labelValues.push({label: 'Version', valueHtml: design.version});\r\n      labelValues.push({label: 'Status', valueHtml: design.status});\r\n\t    labelValues.push({label: 'Organization', valueHtml: organizationName});\r\n      labelValues.push({label: 'Description', valueHtml: design.description});\r\n    }\r\n    return labelValues;\r\n  }\r\n\r\n  public generateLabelValuesForInstance(instance:Instance, organizationName:string):Array<LabelValueModel> {\r\n    var labelValues:Array<LabelValueModel> = undefined;\r\n    if (instance) {\r\n      labelValues = [];\r\n      labelValues.push({label: 'MRN', valueHtml: instance.instanceId});\r\n      labelValues.push({label: 'Name', valueHtml: instance.name});\r\n      labelValues.push({label: 'Version', valueHtml: instance.version});\r\n      labelValues.push({label: 'Status', valueHtml: instance.status});\r\n\t    labelValues.push({label: 'Organization', valueHtml: organizationName});\r\n      labelValues.push({label: 'Description', valueHtml: instance.description});\r\n      labelValues.push({label: 'Service endpoint', valueHtml: instance.endpointUri});\r\n    }\r\n    return labelValues;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/pages/org-service-registry/shared/services/sr-view-model.service.ts","import { Component, ViewEncapsulation } from '@angular/core';\r\nimport {ActivatedRoute, Router} from \"@angular/router\";\r\nimport {MCNotificationsService, MCNotificationType} from \"../../../../shared/mc-notifications.service\";\r\nimport {Organization} from \"../../../../backend-api/identity-registry/autogen/model/Organization\";\r\nimport {OrganizationsService} from \"../../../../backend-api/identity-registry/services/organizations.service\";\r\nimport {AuthService} from \"../../../../authentication/services/auth.service\";\r\n\r\n@Component({\r\n  selector: 'organization-details',\r\n  encapsulation: ViewEncapsulation.None,\r\n  template: require('./organization-details.html'),\r\n  styles: []\r\n})\r\nexport class OrganizationDetailsComponent {\r\n\tpublic shouldDisplayDelete:boolean;\r\n\tpublic isLoading:boolean;\r\n\tpublic organization:Organization;\r\n\tpublic showModal:boolean = false;\r\n\tpublic modalDescription:string;\r\n\tconstructor(private authService:AuthService, private orgService: OrganizationsService, private router:Router, private route: ActivatedRoute, private notifications:MCNotificationsService) {\r\n\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\tthis.loadOrganization();\r\n\t}\r\n\r\n\tprivate loadOrganization() {\r\n\t\tthis.isLoading = true;\r\n\t\tlet mrn = this.route.snapshot.params['id'];\r\n\t\tthis.orgService.getOrganization(mrn).subscribe(\r\n\t\t\torganization => {\r\n\t\t\t\tthis.organization = organization;\r\n\t\t\t\tthis.isLoading = false;\r\n\t\t\t\tthis.setShouldDisplayDelete();\r\n\t\t\t},\r\n\t\t\terr => {\r\n\t\t\t\tthis.isLoading = false;\r\n\t\t\t\tthis.notifications.generateNotification('Error', 'Error when trying to get organization', MCNotificationType.Error, err);\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tprivate setShouldDisplayDelete() {\r\n\t\tthis.shouldDisplayDelete = !this.authService.isMyOrg(this.organization.mrn) && this.authService.authState.isSiteAdmin();\r\n\t}\r\n\r\n\tprivate delete() {\r\n\t\tthis.modalDescription = \"Are you sure you want to delete the organization?<br><br>All entities will be deleted and all issued certificates will be revoked.\";\r\n\t\tthis.showModal = true;\r\n\t}\r\n\tpublic cancelModal() {\r\n\t\tthis.showModal = false;\r\n\t}\r\n\r\n\tpublic deleteForSure() {\r\n\t\tthis.isLoading = true;\r\n\t\tthis.showModal = false;\r\n\t\tthis.orgService.deleteOrganization(this.organization.mrn).subscribe(\r\n\t\t\t() => {\r\n\t\t\t\tthis.router.navigate(['../'], {relativeTo: this.route });\r\n\t\t\t},\r\n\t\t\terr => {\r\n\t\t\t\tthis.isLoading = false;\r\n\t\t\t\tthis.notifications.generateNotification('Error', 'Error when trying to delete the organization', MCNotificationType.Error, err);\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/pages/organizations/components/organization-details/organization-details.component.ts","module.exports = \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-lg-12\\\">\\r\\n    <ba-card title=\\\"{{organization?.name}}\\\" baCardClass=\\\"with-scroll table-panel\\\">\\r\\n      <organization-details-table [isLoading]=\\\"isLoading\\\" [organization]=\\\"organization\\\"></organization-details-table>\\r\\n      <ul *ngIf=\\\"!isLoading && shouldDisplayDelete\\\" class=\\\"btn-list clearfix\\\">\\r\\n        <li *ngIf=\\\"shouldDisplayDelete\\\">\\r\\n          <button type=\\\"button\\\" class=\\\"btn btn-danger btn-raised\\\" (click)=\\\"delete()\\\">Delete Organization</button>\\r\\n        </li>\\r\\n      </ul>\\r\\n    </ba-card>\\r\\n  </div>\\r\\n</div>\\r\\n<mc-modal (onCancel)=\\\"cancelModal()\\\" (onOk)=\\\"deleteForSure()\\\" [show]=\\\"showModal\\\" [title]=\\\"'Delete organization'\\\" [description]=\\\"modalDescription\\\" [cancelClass]=\\\"'btn btn-default btn-raised'\\\" [cancelTitle]=\\\"'Cancel'\\\" [okClass]=\\\"'btn btn-danger btn-raised'\\\" [okTitle]=\\\"'Delete'\\\"></mc-modal>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/organizations/components/organization-details/organization-details.html\n// module id = ./src/app/pages/organizations/components/organization-details/organization-details.html\n// module chunks = 3","import {Component, ViewEncapsulation} from '@angular/core';\r\nimport {Organization} from \"../../../../backend-api/identity-registry/autogen/model/Organization\";\r\nimport {EntityImageModel} from \"../../../../theme/components/mcEntityImage/mcEntityImage.component\";\r\nimport {ActivatedRoute, Router} from \"@angular/router\";\r\nimport {OrganizationsService} from \"../../../../backend-api/identity-registry/services/organizations.service\";\r\nimport {MCNotificationsService, MCNotificationType} from \"../../../../shared/mc-notifications.service\";\r\nimport {AuthService} from \"../../../../authentication/services/auth.service\";\r\nimport {Observable} from \"rxjs\";\r\nimport {LogoService} from \"../../../../backend-api/identity-registry/services/logo.service\";\r\n\r\n@Component({\r\n  selector: 'organization-list',\r\n  encapsulation: ViewEncapsulation.None,\r\n  template: require('./organization-list.html'),\r\n  styles: []\r\n})\r\nexport class OrganizationListComponent {\r\n\tprivate organizations:Array<Organization>;\r\n\tpublic entityImageList: Array<EntityImageModel>;\r\n  public isLoading: boolean;\r\n  constructor(private logoService: LogoService, private authService: AuthService, private router:Router, private route:ActivatedRoute, private orgService: OrganizationsService, private notifications:MCNotificationsService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.isLoading = true;\r\n\t  this.loadOrganizations();\r\n  }\r\n\r\n\tprivate loadOrganizations() {\r\n\t\tthis.orgService.getAllOrganizations().subscribe(\r\n\t\t\torganizations => {\r\n\t\t\t\tthis.organizations = organizations;\r\n\t\t\t\tthis.isLoading = false;\r\n\t\t\t\tthis.generateEntityImageList();\r\n\t\t\t},\r\n\t\t\terr => {\r\n\t\t\t\tthis.isLoading = false;\r\n\t\t\t\tthis.notifications.generateNotification('Error', 'Error when trying to get organizations', MCNotificationType.Error, err);\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tpublic gotoDetails(entityModel:EntityImageModel) {\r\n\t\tif (this.isMyOrg(entityModel.entityId)) {\r\n\t\t\tthis.router.navigate(['/']);\r\n\t\t} else {\r\n\t\t\tthis.router.navigate([entityModel.entityId], {relativeTo: this.route});\r\n\t\t}\r\n\t}\r\n\r\n\tprivate isMyOrg(orgMrn) {\r\n\t\treturn this.authService.authState.orgMrn === orgMrn;\r\n\t}\r\n\r\n  private generateEntityImageList() {\r\n\t  this.entityImageList = [];\r\n\t  if (this.organizations) {\r\n\t\t  this.organizations.forEach(organization => {\r\n\t\t\t    var htmlContent = '&nbsp;';\r\n\t\t\t    if (organization.email) {\r\n\t\t\t\t    htmlContent = \"<a href='mailto:\" + organization.email + \"'>\" + organization.email + \"</a>\";\r\n\t\t\t    }\r\n\t\t\t    this.entityImageList.push({imageSourceObservable:this.createImgObservable(organization), entityId:organization.mrn, title:organization.name, htmlContent:htmlContent});\r\n\t\t\t  }\r\n\t\t  );\r\n\t  }\r\n  }\r\n  private createImgObservable(organization:Organization):Observable<string> {\r\n\t  let imageSrc = 'assets/img/no_organization.png';\r\n\t  return Observable.create(observer => {\r\n\t\t  this.logoService.getLogoForOrganization(organization.mrn).subscribe(\r\n\t\t\t  logo => {\r\n\t\t\t\t  observer.next(URL.createObjectURL(new Blob([logo])));\r\n\t\t\t  },\r\n\t\t\t  err => {\r\n\t\t\t\t  observer.next(imageSrc);\r\n\t\t\t  }\r\n\t\t  );\r\n\t  });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/pages/organizations/components/organization-list/organization-list.component.ts","module.exports = \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-lg-12\\\">\\r\\n    <ba-card title=\\\"Organizations in the Maritime Cloud\\\" baCardClass=\\\"with-scroll table-panel\\\">\\r\\n      <mc-entity-image-list [isLoading]=\\\"isLoading\\\" [entityImageList]=\\\"entityImageList\\\" (onClick)=\\\"gotoDetails($event)\\\"></mc-entity-image-list>\\r\\n    </ba-card>\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/organizations/components/organization-list/organization-list.html\n// module id = ./src/app/pages/organizations/components/organization-list/organization-list.html\n// module chunks = 3","import {Component} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'organizations',\r\n  template: '<router-outlet></router-outlet>'\r\n})\r\nexport class OrganizationsComponent{\r\n\r\n  constructor() {\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/pages/organizations/organizations.component.ts","import { NgModule }      from '@angular/core';\r\nimport { CommonModule }  from '@angular/common';\r\nimport { NgaModule } from '../../theme/nga.module';\r\nimport { OrganizationsComponent } from './organizations.component';\r\nimport { routing }       from './organizations.routing';\r\nimport {SharedModule} from \"../shared/shared.module\";\r\nimport {OrganizationListComponent} from \"./components/organization-list/organization-list.component\";\r\nimport {OrganizationDetailsComponent} from \"./components/organization-details/organization-details.component\";\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    SharedModule,\r\n    NgaModule,\r\n    routing\r\n  ],\r\n  declarations: [\r\n    OrganizationsComponent,\r\n\t  OrganizationListComponent,\r\n\t  OrganizationDetailsComponent\r\n  ]\r\n})\r\nexport default class OrganizationsModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/pages/organizations/organizations.module.ts","import { Routes, RouterModule }  from '@angular/router';\r\nimport {OrganizationsComponent} from \"./organizations.component\";\r\nimport {OrganizationListComponent} from \"./components/organization-list/organization-list.component\";\r\nimport {OrganizationDetailsComponent} from \"./components/organization-details/organization-details.component\";\r\n\r\n// noinspection TypeScriptValidateTypes\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: OrganizationsComponent,\r\n    data:{breadcrumb: 'Organizations'},\r\n    children: [\r\n\t    {\r\n\t\t    path: '',\r\n\t\t    component: OrganizationListComponent\r\n\t    },\r\n\t    {\r\n\t\t    path: ':id',\r\n\t\t    component: OrganizationDetailsComponent,\r\n\t\t    data:{breadcrumb: 'Details'},\r\n\t    }\r\n    ]\r\n  }\r\n];\r\n\r\nexport const routing = RouterModule.forChild(routes);\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/pages/organizations/organizations.routing.ts","import {Component, ViewEncapsulation, OnInit} from '@angular/core';\r\nimport {MCNotificationsService, MCNotificationType} from \"../../../../shared/mc-notifications.service\";\r\nimport {NavigationHelperService, queryKeys} from \"../../../../shared/navigation-helper.service\";\r\nimport {ActivatedRoute} from \"@angular/router\";\r\nimport {CertificateEntityType} from \"../../services/certificate-helper.service\";\r\nimport {CertificatesService} from \"../../../../backend-api/identity-registry/services/certificates.service\";\r\nimport {PemCertificate} from \"../../../../backend-api/identity-registry/autogen/model/PemCertificate\";\r\nimport {LabelValueModel} from \"../../../../theme/components/mcLabelValueTable/mcLabelValueTable.component\";\r\nimport {FileHelperService} from \"../../../../shared/file-helper.service\";\r\nimport {CertificateBundle} from \"../../../../backend-api/identity-registry/autogen/model/CertificateBundle\";\r\n\r\n\r\n@Component({\r\n  selector: 'certificate-issue-new',\r\n  encapsulation: ViewEncapsulation.None,\r\n  template: require('./certificate-issue-new.html'),\r\n  styles: []\r\n})\r\nexport class CertificateIssueNewComponent implements OnInit {\r\n  public entityType: CertificateEntityType;\r\n  public entityMrn: string;\r\n  public entityTitle: string;\r\n  public isLoading: boolean;\r\n  public certificate: CertificateBundle;\r\n\r\n  public labelValues:Array<LabelValueModel>;\r\n\r\n  constructor(private fileHelper: FileHelperService, private certificateService: CertificatesService, private route:ActivatedRoute, private navigationHelper: NavigationHelperService, private notificationService: MCNotificationsService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.isLoading = false;\r\n    let entityType = this.route.snapshot.queryParams[queryKeys.ENTITY_TYPE];\r\n    let entityMrn = this.route.snapshot.queryParams[queryKeys.ENTITY_MRN];\r\n    let entityTitle= this.route.snapshot.queryParams[queryKeys.ENTITY_TITLE];\r\n    if (entityType == null || !entityMrn || !entityTitle) {\r\n      this.notificationService.generateNotification(\"Error\", \"Unresolved state when trying to issue new certificate\", MCNotificationType.Error);\r\n      this.navigationHelper.takeMeHome();\r\n    }\r\n    this.entityMrn = entityMrn;\r\n    this.entityTitle = entityTitle;\r\n    this.entityType = +entityType; // +-conversion from string to int\r\n    this.generateLabelValues();\r\n  }\r\n\r\n  public zipAndDownload() {\r\n    this.fileHelper.downloadPemCertificate(this.certificate, this.entityTitle);\r\n  }\r\n\r\n  public issueNew() {\r\n    this.isLoading = true;\r\n    this.certificateService.issueNewCertificate(this.entityType, this.entityMrn).subscribe(\r\n      certificateBundle => {\r\n        this.certificate = certificateBundle;\r\n        this.isLoading = false;\r\n      },\r\n      err => {\r\n        this.isLoading = false;\r\n        this.notificationService.generateNotification('Error', 'Error when trying to issue new certificate', MCNotificationType.Error, err);\r\n      }\r\n    );\r\n  }\r\n\r\n  public cancel() {\r\n    this.navigationHelper.cancelNavigateCertificates();\r\n  }\r\n\r\n  private generateLabelValues() {\r\n    this.labelValues = [];\r\n    this.labelValues.push({label: 'Name', valueHtml: this.entityTitle});\r\n    this.labelValues.push({label: 'MRN', valueHtml: this.entityMrn});\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/pages/shared/components/certificate-issue-new/certificate-issue-new.component.ts","module.exports = \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-lg-12\\\">\\r\\n    <ba-card title=\\\"Issue new certificate\\\" baCardClass=\\\"with-scroll table-panel\\\">\\r\\n      <!-- Before issue -->\\r\\n      <div *ngIf=\\\"entityType != null && !certificate && !isLoading\\\">\\r\\n        <h5>Issuing a new certificate for:</h5>\\r\\n        <mc-label-value-table [isLoading]=\\\"isLoading\\\" [labelValues]=\\\"labelValues\\\"></mc-label-value-table>\\r\\n        <ul *ngIf=\\\"entityType != null\\\" class=\\\"btn-list clearfix\\\">\\r\\n          <li>\\r\\n            <button type=\\\"button\\\" class=\\\"btn btn-danger btn-raised\\\" (click)=\\\"issueNew()\\\">Issue Certificate</button>\\r\\n          </li>\\r\\n          <li>\\r\\n            <button type=\\\"button\\\" class=\\\"btn btn-default btn-raised\\\" (click)=\\\"cancel()\\\">Cancel</button>\\r\\n          </li>\\r\\n        </ul>\\r\\n      </div>\\r\\n\\r\\n      <sk-fading-circle [isRunning]=\\\"isLoading\\\" ></sk-fading-circle>\\r\\n\\r\\n      <!-- After issue and success -->\\r\\n      <div *ngIf=\\\"certificate\\\">\\r\\n        Certificate issued with success\\r\\n        <ul *ngIf=\\\"entityType != null\\\" class=\\\"btn-list clearfix\\\">\\r\\n          <li>\\r\\n            <button type=\\\"button\\\" class=\\\"btn btn-primary btn-raised\\\" (click)=\\\"zipAndDownload()\\\">Download certificate</button>\\r\\n          </li>\\r\\n          <li>\\r\\n            <button type=\\\"button\\\" class=\\\"btn btn-default btn-raised\\\" (click)=\\\"cancel()\\\">OK</button>\\r\\n          </li>\\r\\n        </ul>\\r\\n      </div>\\r\\n    </ba-card>\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/shared/components/certificate-issue-new/certificate-issue-new.html\n// module id = ./src/app/pages/shared/components/certificate-issue-new/certificate-issue-new.html\n// module chunks = 0 1 2 3 4","import {Component, ViewEncapsulation, OnInit} from '@angular/core';\r\nimport {MCNotificationsService, MCNotificationType} from \"../../../../shared/mc-notifications.service\";\r\nimport {NavigationHelperService, queryKeys} from \"../../../../shared/navigation-helper.service\";\r\nimport {ActivatedRoute} from \"@angular/router\";\r\nimport {CertificateEntityType, CertificateHelperService} from \"../../services/certificate-helper.service\";\r\nimport {CertificatesService} from \"../../../../backend-api/identity-registry/services/certificates.service\";\r\nimport {LabelValueModel} from \"../../../../theme/components/mcLabelValueTable/mcLabelValueTable.component\";\r\nimport {FormGroup, FormBuilder, FormControl, Validators} from \"@angular/forms\";\r\nimport {\r\n\tMcFormControlModel, McFormControlType,\r\n\tMcFormControlModelSelect, McFormControlModelDatepicker, SelectModel\r\n} from \"../../../../theme/components/mcForm/mcFormControlModel\";\r\nimport {SelectValidator} from \"../../../../theme/validators/select.validator\";\r\nimport {CertificateRevocation} from \"../../../../backend-api/identity-registry/autogen/model/CertificateRevocation\";\r\nimport RevokationReasonEnum = CertificateRevocation.RevokationReasonEnum;\r\n\r\n\r\n@Component({\r\n  selector: 'certificate-revoke',\r\n  encapsulation: ViewEncapsulation.None,\r\n  template: require('./certificate-revoke.html'),\r\n  styles: []\r\n})\r\nexport class CertificateRevokeComponent implements OnInit {\r\n  public entityType: CertificateEntityType;\r\n  public entityMrn: string;\r\n\tpublic entityTitle: string;\r\n\tpublic certificateId: string;\r\n  public isLoading: boolean;\r\n  \r\n\tpublic isRevoking = false;\r\n\tpublic revokeTitle = \"Revoke\";\r\n\tpublic revokeForm: FormGroup;\r\n\tpublic formControlModels: Array<McFormControlModel>;\r\n\r\n  public labelValues:Array<LabelValueModel>;\r\n\r\n  constructor(private certificateHelper:CertificateHelperService, private formBuilder: FormBuilder, private certificateService: CertificatesService, private route:ActivatedRoute, private navigationHelper: NavigationHelperService, private notificationService: MCNotificationsService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.isLoading = true;\r\n    let entityType = this.route.snapshot.queryParams[queryKeys.ENTITY_TYPE];\r\n    let entityMrn = this.route.snapshot.queryParams[queryKeys.ENTITY_MRN];\r\n\t  let entityTitle = this.route.snapshot.queryParams[queryKeys.ENTITY_TITLE];\r\n\t  let certificateId = this.route.snapshot.queryParams[queryKeys.CERT_ID];\r\n    if (entityType == null || !entityMrn || !entityTitle) {\r\n      this.notificationService.generateNotification(\"Error\", \"Unresolved state when trying to revoke certificate\", MCNotificationType.Error);\r\n      this.navigationHelper.takeMeHome();\r\n    }\r\n    this.entityMrn = entityMrn;\r\n    this.entityTitle = entityTitle;\r\n    this.entityType = +entityType; // +-conversion from string to int\r\n\t  this.certificateId = certificateId;\r\n    this.generateLabelValues();\r\n    this.generateForm();\r\n\r\n\t  this.isLoading = false;\r\n  }\r\n\r\n  public revoke() {\r\n    this.isRevoking = true;\r\n    let revokeDate:Date = this.revokeForm.value.revokedAt;\r\n\t  let tempRevocationReason = this.revokeForm.value.revocationReason;\r\n\t  var revocationReason:RevokationReasonEnum = null;\r\n\t  if (tempRevocationReason && tempRevocationReason.toLowerCase().indexOf('undefined') < 0) {\r\n\t\t  revocationReason = tempRevocationReason;\r\n\t  }\r\n    let certificateRevocation:CertificateRevocation = {revokationReason:revocationReason, revokedAt:revokeDate.getTime()+''}\r\n    this.certificateService.revokeCertificate(this.entityType, this.entityMrn, this.certificateId, certificateRevocation).subscribe(\r\n      _ => {\r\n        this.isRevoking = false;\r\n        this.navigationHelper.cancelNavigateCertificates();\r\n      },\r\n      err => {\r\n        this.isRevoking = false;\r\n        this.notificationService.generateNotification('Error', 'Error when trying to revoke certificate', MCNotificationType.Error, err);\r\n      }\r\n    );\r\n  }\r\n\r\n  public cancel() {\r\n    this.navigationHelper.cancelNavigateCertificates();\r\n  }\r\n\r\n  private generateLabelValues() {\r\n    this.labelValues = [];\r\n    this.labelValues.push({label: 'Name', valueHtml: this.entityTitle});\r\n    this.labelValues.push({label: 'MRN', valueHtml: this.entityMrn});\r\n  }\r\n  \r\n\tprivate generateForm() {\r\n\t\tthis.revokeForm = this.formBuilder.group({});\r\n\t\tthis.formControlModels = [];\r\n\r\n\t\tlet selectValues = this.selectValues();\r\n\t\tlet formControlModelSelect:McFormControlModelSelect = {selectValues:selectValues, formGroup: this.revokeForm, elementId: 'revocationReason', controlType: McFormControlType.Select, labelName: '', placeholder: '', validator:SelectValidator.validate, showCheckmark:false};\r\n\t\tvar formControl = new FormControl('', formControlModelSelect.validator);\r\n\t\tthis.revokeForm.addControl(formControlModelSelect.elementId, formControl);\r\n\t\tthis.formControlModels.push(formControlModelSelect);\r\n\r\n\t\tlet formControlModel:McFormControlModelDatepicker = {minDate:new Date(), formGroup: this.revokeForm, elementId: 'revokedAt', controlType: McFormControlType.Datepicker, labelName: '', validator:Validators.required};\r\n\t\tformControl = new FormControl('', formControlModel.validator);\r\n\t\tthis.revokeForm.addControl(formControlModel.elementId, formControl);\r\n\t\tthis.formControlModels.push(formControlModel);\r\n\t}\r\n\r\n\tprivate selectValues():Array<SelectModel> {\r\n\t\tlet selectValues:Array<SelectModel> = [];\r\n\t\tselectValues.push({value:undefined, label:'Choose reason...', isSelected: true});\r\n\t\tlet allrevokeTypes = this.certificateHelper.getAllRevocationTypes();\r\n\t\tallrevokeTypes.forEach(revokeType => {\r\n\t\t\tselectValues.push({value:revokeType.value, label:revokeType.label, isSelected: false});\r\n\t\t});\r\n\t\treturn selectValues;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/pages/shared/components/certificate-revoke/certificate-revoke.component.ts","module.exports = \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-lg-12\\\">\\r\\n    <ba-card title=\\\"Revoke certificate\\\" baCardClass=\\\"with-scroll table-panel\\\">\\r\\n      <!-- Before issue -->\\r\\n      <div *ngIf=\\\"entityType != null && !isLoading\\\">\\r\\n        <h5>Revoking certificate for:</h5>\\r\\n        <mc-label-value-table [isLoading]=\\\"isLoading\\\" [labelValues]=\\\"labelValues\\\"></mc-label-value-table>\\r\\n        <br>\\r\\n        <h5>\\r\\n          Please choose a reason and date for revocation.\\r\\n        </h5>\\r\\n        <mc-form [formGroup]=\\\"revokeForm\\\" [formControlModels]=\\\"formControlModels\\\" [isLoading]=\\\"isLoading\\\" [isRegistering]=\\\"isRevoking\\\" [registerTitle]=\\\"revokeTitle\\\" (onCancel)=\\\"cancel()\\\" (onRegister)=\\\"revoke()\\\"></mc-form>\\r\\n      </div>\\r\\n      <sk-fading-circle [isRunning]=\\\"isLoading\\\" ></sk-fading-circle>\\r\\n    </ba-card>\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/shared/components/certificate-revoke/certificate-revoke.html\n// module id = ./src/app/pages/shared/components/certificate-revoke/certificate-revoke.html\n// module chunks = 0 1 2 3 4","import {Component, ViewEncapsulation, Input, HostListener, OnChanges} from '@angular/core';\r\nimport {Certificate} from \"../../../../backend-api/identity-registry/autogen/model/Certificate\";\r\nimport {CertificateEntityType, CertificateHelperService} from \"../../services/certificate-helper.service\";\r\nimport {layoutSizes, DATE_FORMAT} from \"../../../../theme/theme.constants\";\r\nimport {AuthService} from \"../../../../authentication/services/auth.service\";\r\nimport {CertificateViewModel} from \"../../view-models/CertificateViewModel\";\r\nimport {NavigationHelperService} from \"../../../../shared/navigation-helper.service\";\r\nimport {MCNotificationType, MCNotificationsService} from \"../../../../shared/mc-notifications.service\";\r\nimport {FileHelperService} from \"../../../../shared/file-helper.service\";\r\nimport {PemCertificate} from \"../../../../backend-api/identity-registry/autogen/model/PemCertificate\";\r\nimport {\r\n\tTableHeader, TableRow, TableCell,\r\n\tTableCellActionButtons, TableActionButton\r\n} from \"../../../../theme/components/mcTable/mcTable.component\";\r\nimport {DatePipe} from \"@angular/common\";\r\nimport {CertificateBundle} from \"../../../../backend-api/identity-registry/autogen/model/CertificateBundle\";\r\n\r\n@Component({\r\n  selector: 'certificates-table',\r\n  encapsulation: ViewEncapsulation.None,\r\n  template: require('./certificates-table.html'),\r\n  styles: [require('./certificates-table.scss')]\r\n})\r\nexport class CertificatesTableComponent implements OnChanges{\r\n  @Input() certificates: Array<Certificate>;\r\n  @Input() certificateEntityType: CertificateEntityType;\r\n  @Input() entityMrn: string;\r\n  @Input() isLoading: boolean;\r\n  @Input() certificateTitle: string;\r\n\r\n\tpublic tableHeaders: Array<TableHeader>;\r\n\tpublic tableRows: Array<TableRow>;\r\n  public newCertificateTitle = \"Issue new Certificate\";\r\n  public certificateViewModels: Array<CertificateViewModel>;\r\n  public tableClass:string;\r\n  public onIssueCertificate: Function;\r\n\r\n\tpublic onDownload:Function;\r\n\r\n  constructor(private datePipe: DatePipe, private fileHelper: FileHelperService, private navigationHelper: NavigationHelperService, private authService:AuthService, private certificateHelperService: CertificateHelperService, private notificationService: MCNotificationsService) {\r\n    this.onIssueCertificate = this.issueCertificate.bind(this);\r\n  }\r\n\r\n\tngOnInit() {\r\n\t\tif (!this.authService.authState.rolesLoaded) {\r\n\t\t\tthis.authService.rolesLoaded.subscribe((mode)=> {\r\n\t\t\t\tthis.generateHeadersAndRows();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n  ngOnChanges() {\r\n    if (this.certificates) {\r\n      this.certificateViewModels = this.certificateHelperService.convertCertificatesToViewModels(this.certificates);\r\n      this.sortCertificates();\r\n\t    this.generateHeadersAndRows();\r\n    }\r\n  }\r\n\tprivate generateHeadersAndRows() {\r\n\t\tvar tableHeaders: Array<TableHeader> = [];\r\n\t\tvar tableRows: Array<TableRow> = [];\r\n\r\n\t\tvar tableHeader: TableHeader = {title:'Certificate', class:''};\r\n\t\ttableHeaders.push(tableHeader);\r\n\r\n\t\ttableHeader = {title:'Valid from', class:'nowrap'};\r\n\t\ttableHeaders.push(tableHeader);\r\n\r\n\t\ttableHeader = {title:'Valid to', class:'nowrap'};\r\n\t\ttableHeaders.push(tableHeader);\r\n\r\n\t\ttableHeader = {title:'', class:'table-buttons'};\r\n\t\ttableHeaders.push(tableHeader);\r\n\r\n\t\tfor (let certificate of this.certificateViewModels) {\r\n\t\t\tvar cells:Array<TableCell> = [];\r\n\r\n\t\t\tvar tableCell: TableCell = {valueHtml:'Certificate for ' + this.certificateTitle, class:'', truncateNumber:50};\r\n\t\t\tcells.push(tableCell);\r\n\r\n\t\t\ttableCell = {valueHtml:this.datePipe.transform(certificate.start, DATE_FORMAT), class:'nowrap', truncateNumber:0};\r\n\t\t\tcells.push(tableCell);\r\n\r\n\t\t\ttableCell = {valueHtml:this.datePipe.transform(certificate.end, DATE_FORMAT), class:'nowrap', truncateNumber:0};\r\n\t\t\tcells.push(tableCell);\r\n\r\n\t\t\tif (certificate.revoked) {\r\n\t\t\t\ttableCell = {valueHtml:'Revoked (' + certificate.revokeReasonText + ')', class:'red-text', truncateNumber:50};\r\n\t\t\t\tcells.push(tableCell);\r\n\t\t\t} else {\r\n\t\t\t\tlet actionButtons:Array<TableActionButton> = [];\r\n\t\t\t\tlet actionButton:TableActionButton = {buttonClass: 'btn btn-primary btn-raised btn-sm', name: 'Download certificate', onClick:() => {this.download(certificate)}};\r\n\t\t\t\tactionButtons.push(actionButton);\r\n\t\t\t\tif (this.isAdmin()) {\r\n\t\t\t\t\tactionButton = {buttonClass: 'btn btn-primary btn-raised btn-sm', name: 'Revoke certificate', onClick:() => {this.revoke(certificate)}};\r\n\t\t\t\t\tactionButtons.push(actionButton);\r\n\t\t\t\t}\r\n\t\t\t\tlet tableCellActionButtons: TableCellActionButtons = {valueHtml:'', class:'table-buttons', truncateNumber:0, actionButtons:actionButtons};\r\n\t\t\t\tcells.push(tableCellActionButtons);\r\n\t\t\t}\r\n\r\n\t\t\tlet tableRow: TableRow = {cells: cells};\r\n\t\t\ttableRows.push(tableRow);\r\n\t\t}\r\n\r\n\t\tthis.tableHeaders = tableHeaders;\r\n\t\tthis.tableRows = tableRows;\r\n\t}\r\n  private sortCertificates() {\r\n    // We are sorting with longest due date on top\r\n    this.certificateViewModels.sort((obj1: CertificateViewModel, obj2: CertificateViewModel) => {\r\n      var obj1Time:number;\r\n      var obj2Time:number;\r\n      // Why is this needed??? for some reason sometimes the obj.end is a number and not a Date???\r\n      if (typeof obj1.end === \"Date\") {\r\n        obj1Time = obj1.end.getTime();\r\n      } else {\r\n        obj1Time = obj1.end;\r\n      }\r\n      if (typeof obj2.end === \"Date\") {\r\n        obj2Time = obj2.end.getTime();\r\n      } else {\r\n        obj2Time = obj2.end;\r\n      }\r\n\r\n      if (obj1.revoked && obj2.revoked) {\r\n        return obj2Time - obj1Time;\r\n      }\r\n      if (obj1.revoked) {\r\n        return 1;\r\n      }\r\n      if (obj2.revoked) {\r\n        return -1;\r\n      }\r\n      return obj2Time - obj1Time;\r\n    });\r\n  }\r\n\r\n  public issueCertificate() {\r\n    this.navigationHelper.navigateToIssueNewCertificate(this.certificateEntityType, this.entityMrn, this.certificateTitle);\r\n  }\r\n\r\n  public isAdmin():boolean {\r\n    return this.authService.authState.isAdmin();\r\n  }\r\n\r\n  public revoke(certificate:Certificate) {\r\n  \tthis.navigationHelper.navigateToRevokeCertificate(this.certificateEntityType, this.entityMrn, this.certificateTitle, certificate.serialNumber);\r\n  }\r\n\r\n  public download(certificate:Certificate) {\r\n    let pemCertificate:PemCertificate = {certificate:certificate.certificate};\r\n    let certBundle:CertificateBundle = {pemCertificate:pemCertificate};\r\n    this.fileHelper.downloadPemCertificate(certBundle, this.certificateTitle);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/pages/shared/components/certificates-table/certificates-table.component.ts","module.exports = \"<mc-table [tableHeaders]=\\\"tableHeaders\\\" [tableRows]=\\\"tableRows\\\" [isLoading]=\\\"isLoading\\\"></mc-table>\\r\\n<div *ngIf=\\\"!isLoading\\\">\\r\\n  <mc-create-button [title]=\\\"newCertificateTitle\\\" [onClick]=\\\"onIssueCertificate\\\"></mc-create-button>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/shared/components/certificates-table/certificates-table.html\n// module id = ./src/app/pages/shared/components/certificates-table/certificates-table.html\n// module chunks = 0 1 2 3 4","module.exports = \".table-buttons {\\n  width: 100%; }\\n  .table-buttons button {\\n    margin: 5px !important; }\\n\\n.certificate-table td {\\n  vertical-align: middle; }\\n\\n.certificate-table td:first-child {\\n  white-space: nowrap; }\\n\\n.certificate-table-short td {\\n  vertical-align: middle; }\\n\\n.certificate-table-short td:first-child {\\n  min-width: 200px; }\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/shared/components/certificates-table/certificates-table.scss\n// module id = ./src/app/pages/shared/components/certificates-table/certificates-table.scss\n// module chunks = 0 1 2 3 4","import {Component, ViewEncapsulation, Input, OnChanges} from '@angular/core';\r\nimport {Design} from \"../../../../backend-api/service-registry/autogen/model/Design\";\r\nimport {TableHeader, TableRow, TableCell} from \"../../../../theme/components/mcTable/mcTable.component\";\r\nimport {MCNotificationsService, MCNotificationType} from \"../../../../shared/mc-notifications.service\";\r\nimport {OrganizationsService} from \"../../../../backend-api/identity-registry/services/organizations.service\";\r\n\r\n@Component({\r\n  selector: 'designs-table',\r\n  encapsulation: ViewEncapsulation.None,\r\n  template: require('./designs-table.html'),\r\n  styles: []\r\n})\r\nexport class DesignsTableComponent implements OnChanges {\r\n  @Input() designs: Array<Design>;\r\n  @Input() isLoading: boolean;\r\n  @Input() onRowClick: (index:number) => void;\r\n  public tableHeaders: Array<TableHeader>;\r\n  public tableRows: Array<TableRow>;\r\n  constructor(private orgsService: OrganizationsService, private notifications: MCNotificationsService) {\r\n  }\r\n  ngOnInit() {\r\n  }\r\n  ngOnChanges() {\r\n    if (this.designs) {\r\n      this.generateHeadersAndRows();\r\n    }\r\n  }\r\n  private generateHeadersAndRows() {\r\n    var tableHeaders: Array<TableHeader> = [];\r\n    var tableRows: Array<TableRow> = [];\r\n\r\n    var tableHeader: TableHeader = {title:'Name', class:''};\r\n    tableHeaders.push(tableHeader);\r\n\r\n    tableHeader = {title:'Version', class:'nowrap align-center'};\r\n    tableHeaders.push(tableHeader);\r\n\r\n    tableHeader = {title:'Status', class:'nowrap'};\r\n    tableHeaders.push(tableHeader);\r\n\r\n\t  tableHeader = {title:'Organization', class:'nowrap'};\r\n\t  tableHeaders.push(tableHeader);\r\n\r\n    tableHeader = {title:'Description', class:''};\r\n    tableHeaders.push(tableHeader);\r\n\r\n    for (let design of this.designs) {\r\n      var cells:Array<TableCell> = [];\r\n\r\n      var tableCell: TableCell = {valueHtml:design.name, class:'', truncateNumber:50};\r\n      cells.push(tableCell);\r\n\r\n      tableCell = {valueHtml:design.version, class:'nowrap align-center', truncateNumber:0};\r\n      cells.push(tableCell);\r\n\r\n      tableCell = {valueHtml:design.status, class:'nowrap', truncateNumber:0};\r\n      cells.push(tableCell);\r\n\r\n\t    tableCell = {valueHtml:'', class:'nowrap', truncateNumber:30};\r\n\t    this.setOrganizationCell(tableCell, design.organizationId);\r\n\t    cells.push(tableCell);\r\n\r\n      tableCell = {valueHtml:design.description, class:'table-description', truncateNumber:250};\r\n      cells.push(tableCell);\r\n\r\n      let tableRow: TableRow = {cells: cells};\r\n      tableRows.push(tableRow);\r\n    }\r\n\r\n    this.tableHeaders = tableHeaders;\r\n    this.tableRows = tableRows;\r\n  }\r\n\r\n\tprivate setOrganizationCell(tableCell: TableCell, organizationId) {\r\n\t\tthis.orgsService.getOrganizationName(organizationId).subscribe(\r\n\t\t\torganizationName => {\r\n\t\t\t\ttableCell.valueHtml = organizationName;\r\n\t\t\t},\r\n\t\t\terr => {\r\n\t\t\t\tthis.notifications.generateNotification('Error', 'Error when trying to get organization', MCNotificationType.Error, err);\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/pages/shared/components/designs-table/designs-table.component.ts","module.exports = \"<mc-table [tableHeaders]=\\\"tableHeaders\\\" [tableRows]=\\\"tableRows\\\" [isLoading]=\\\"isLoading\\\" [onRowClick]=\\\"onRowClick\\\"></mc-table>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/shared/components/designs-table/designs-table.html\n// module id = ./src/app/pages/shared/components/designs-table/designs-table.html\n// module chunks = 0 1 2 3 4","import {Component, ViewEncapsulation, Input} from '@angular/core';\r\nimport {EntityImageModel} from \"../../../../theme/components/mcEntityImage/mcEntityImage.component\";\r\nimport {AuthService} from \"../../../../authentication/services/auth.service\";\r\nimport {Observable} from \"rxjs\";\r\nimport {LogoService} from \"../../../../backend-api/identity-registry/services/logo.service\";\r\nimport {Endorsement} from \"../../../../backend-api/endorsements/autogen/model/Endorsement\";\r\nimport {NavigationHelperService} from \"../../../../shared/navigation-helper.service\";\r\nimport {OrganizationsService} from \"../../../../backend-api/identity-registry/services/organizations.service\";\r\n\r\n@Component({\r\n  selector: 'endorsed-by-list',\r\n  encapsulation: ViewEncapsulation.None,\r\n  template: require('./endorsed-by-list.html'),\r\n  styles: []\r\n})\r\nexport class EndorsedByListComponent {\r\n\t@Input() endorsements:Array<Endorsement>;\r\n\t@Input() isLoading:boolean;\r\n\t@Input() title:string;\r\n\r\n\tprivate cardTitle:string;\r\n\r\n\tprivate oldEndorsements:Array<Endorsement>;\r\n\tpublic entityImageList: Array<EntityImageModel>;\r\n\r\n  constructor(private logoService: LogoService, private authService: AuthService, private orgService:OrganizationsService, private navigationHelper:NavigationHelperService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n  \tthis.cardTitle = this.title;\r\n\t  this.generateEntityImageList();\r\n  }\r\n\r\n\tngOnChanges() {\r\n\t\tthis.cardTitle = this.title;\r\n\t\tthis.generateEntityImageList();\r\n\t}\r\n\r\n\tpublic gotoDetails(entityModel:EntityImageModel) {\r\n\t\tif (this.isMyOrg(entityModel.entityId)) {\r\n\t\t\tthis.navigationHelper.takeMeHome();\r\n\t\t} else {\r\n\t\t\tthis.navigationHelper.navigateToOrganizationDetails(entityModel.entityId)\r\n\t\t}\r\n\t}\r\n\r\n\tprivate isMyOrg(orgMrn) {\r\n\t\treturn this.authService.authState.orgMrn === orgMrn;\r\n\t}\r\n\r\n  private generateEntityImageList() {\r\n  \tif (this.endorsements) {\r\n  \t\tif (this.endorsements !== this.oldEndorsements) { // Check to see if the endorsements is the same as last time we generated the list, because no need to do all this load again if not needed\r\n\t\t\t\tthis.oldEndorsements = this.endorsements;\r\n\t\t\t  this.entityImageList = [];\r\n\t\t\t  this.endorsements.forEach(endorsement => {\r\n\t\t\t\t\t\tlet entityImage:EntityImageModel = {imageSourceObservable:this.createImgObservable(endorsement.orgMrn), entityId:endorsement.orgMrn, title:endorsement.orgName};\r\n\r\n\t\t\t\t    this.entityImageList.push(entityImage);\r\n\t\t\t\t  }\r\n\t\t\t  );\r\n\t\t  }\r\n\t  }\r\n  }\r\n\r\n  private createImgObservable(orgMrn:string):Observable<string> {\r\n\t  let imageSrc = 'assets/img/no_organization.png';\r\n\t  return Observable.create(observer => {\r\n\t\t  this.logoService.getLogoForOrganization(orgMrn).subscribe(\r\n\t\t\t  logo => {\r\n\t\t\t\t  observer.next(URL.createObjectURL(new Blob([logo])));\r\n\t\t\t  },\r\n\t\t\t  err => {\r\n\t\t\t\t  observer.next(imageSrc);\r\n\t\t\t  }\r\n\t\t  );\r\n\t  });\r\n  }\r\n\r\n\tprivate setRealOrganizationName(entityImage:EntityImageModel, organizationMrn:string) {\r\n\t\tthis.orgService.getOrganizationName(organizationMrn).subscribe(\r\n\t\t\torganizationName => {\r\n\t\t\t\tentityImage.title = organizationName;\r\n\t\t\t},\r\n\t\t\terr => {\r\n\t\t\t\t// Do nothing. We already have a name set, which should be correct 99% of the time\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/pages/shared/components/endorsed-by-list/endorsed-by-list.component.ts","module.exports = \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-lg-12\\\">\\r\\n    <ba-card title=\\\"{{cardTitle}}\\\" baCardClass=\\\"with-scroll table-panel\\\">\\r\\n      <mc-entity-image-list [noDataText]=\\\"'None'\\\" [isLoading]=\\\"isLoading\\\" [entityImageList]=\\\"entityImageList\\\" (onClick)=\\\"gotoDetails($event)\\\"></mc-entity-image-list>\\r\\n    </ba-card>\\r\\n  </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/shared/components/endorsed-by-list/endorsed-by-list.html\n// module id = ./src/app/pages/shared/components/endorsed-by-list/endorsed-by-list.html\n// module chunks = 0 1 2 3 4","import {Component, ViewEncapsulation, Input, OnChanges} from '@angular/core';\r\nimport {TableHeader, TableRow, TableCell} from \"../../../../theme/components/mcTable/mcTable.component\";\r\nimport {Instance} from \"../../../../backend-api/service-registry/autogen/model/Instance\";\r\nimport {MCNotificationType, MCNotificationsService} from \"../../../../shared/mc-notifications.service\";\r\nimport {OrganizationsService} from \"../../../../backend-api/identity-registry/services/organizations.service\";\r\n\r\n@Component({\r\n  selector: 'instances-table',\r\n  encapsulation: ViewEncapsulation.None,\r\n  template: require('./instances-table.html'),\r\n  styles: []\r\n})\r\nexport class InstancesTableComponent implements OnChanges {\r\n  @Input() instances: Array<Instance>;\r\n  @Input() isLoading: boolean;\r\n  @Input() onRowClick: (index:number) => void;\r\n  public tableHeaders: Array<TableHeader>;\r\n  public tableRows: Array<TableRow>;\r\n  constructor(private orgsService: OrganizationsService, private notifications: MCNotificationsService) {\r\n  }\r\n  ngOnInit() {\r\n  }\r\n  ngOnChanges() {\r\n    if (this.instances) {\r\n      this.generateHeadersAndRows();\r\n    }\r\n  }\r\n  private generateHeadersAndRows() {\r\n    var tableHeaders: Array<TableHeader> = [];\r\n    var tableRows: Array<TableRow> = [];\r\n\r\n    var tableHeader: TableHeader = {title:'Name', class:''};\r\n    tableHeaders.push(tableHeader);\r\n\r\n    tableHeader = {title:'Version', class:'nowrap align-center'};\r\n    tableHeaders.push(tableHeader);\r\n\r\n    tableHeader = {title:'Status', class:'nowrap'};\r\n    tableHeaders.push(tableHeader);\r\n\r\n\t  tableHeader = {title:'Organization', class:'nowrap'};\r\n\t  tableHeaders.push(tableHeader);\r\n\r\n\t  tableHeader = {title:'Service endpoint', class:''};\r\n\t  tableHeaders.push(tableHeader);\r\n\r\n\t  tableHeader = {title:'Description', class:''};\r\n\t  tableHeaders.push(tableHeader);\r\n\r\n    for (let instance of this.instances) {\r\n      var cells:Array<TableCell> = [];\r\n\r\n      var tableCell: TableCell = {valueHtml:instance.name, class:'', truncateNumber:45};\r\n      cells.push(tableCell);\r\n\r\n      tableCell = {valueHtml:instance.version, class:'nowrap align-center', truncateNumber:0};\r\n      cells.push(tableCell);\r\n\r\n      tableCell = {valueHtml:instance.status, class:'nowrap', truncateNumber:0};\r\n      cells.push(tableCell);\r\n\r\n\t    tableCell = {valueHtml:'', class:'nowrap', truncateNumber:25};\r\n\t    this.setOrganizationCell(tableCell, instance.organizationId);\r\n\t    cells.push(tableCell);\r\n\r\n\t    tableCell = {valueHtml:instance.endpointUri, class:'list-endpoint', truncateNumber:60};\r\n\t    cells.push(tableCell);\r\n\r\n      tableCell = {valueHtml:instance.description, class:'table-description-short', truncateNumber:150};\r\n      cells.push(tableCell);\r\n\r\n      let tableRow: TableRow = {cells: cells};\r\n      tableRows.push(tableRow);\r\n    }\r\n\r\n    this.tableHeaders = tableHeaders;\r\n    this.tableRows = tableRows;\r\n  }\r\n\r\n\tprivate setOrganizationCell(tableCell: TableCell, organizationId) {\r\n\t\tthis.orgsService.getOrganizationName(organizationId).subscribe(\r\n\t\t\torganizationName => {\r\n\t\t\t\ttableCell.valueHtml = organizationName;\r\n\t\t\t},\r\n\t\t\terr => {\r\n\t\t\t\tthis.notifications.generateNotification('Error', 'Error when trying to get organization', MCNotificationType.Error, err);\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/pages/shared/components/instances-table/instances-table.component.ts","module.exports = \"<mc-table [tableHeaders]=\\\"tableHeaders\\\" [tableRows]=\\\"tableRows\\\" [isLoading]=\\\"isLoading\\\" [onRowClick]=\\\"onRowClick\\\"></mc-table>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/shared/components/instances-table/instances-table.html\n// module id = ./src/app/pages/shared/components/instances-table/instances-table.html\n// module chunks = 0 1 2 3 4","import {Component, ViewEncapsulation, Input, OnChanges, Output, EventEmitter} from '@angular/core';\r\nimport {LabelValueModel} from \"../../../../theme/components/mcLabelValueTable/mcLabelValueTable.component\";\r\nimport {Organization} from \"../../../../backend-api/identity-registry/autogen/model/Organization\";\r\nimport {OrganizationViewModelService} from \"../../services/organization-view-model.service\";\r\nimport {LogoService} from \"../../../../backend-api/identity-registry/services/logo.service\";\r\nimport {AuthService} from \"../../../../authentication/services/auth.service\";\r\nimport {MCNotificationType, MCNotificationsService} from \"../../../../shared/mc-notifications.service\";\r\n\r\n@Component({\r\n  selector: 'organization-details-table',\r\n  encapsulation: ViewEncapsulation.None,\r\n  template: require('./organization-details-table.html'),\r\n  styles: []\r\n})\r\nexport class OrganizationDetailsTableComponent implements OnChanges {\r\n  private labelValues:Array<LabelValueModel>;\r\n\t@Input() displayLogo:boolean = true;\r\n  @Input() isLoading:boolean;\r\n\t@Input() organization: Organization;\r\n\t@Output() onLogoLoaded: EventEmitter<any> = new EventEmitter<any>();\r\n\tpublic logo:string;\r\n\tpublic canChangeLogo:boolean;\r\n\tpublic isLoadingOrgAndLogo:boolean = true;\r\n\tpublic uploadingLogo:boolean = false;\r\n  constructor(private authService:AuthService, private logoService: LogoService, private orgViewModelService: OrganizationViewModelService, private notifications:MCNotificationsService) {\r\n  }\r\n  ngOnChanges() {\r\n    if (this.organization) {\r\n\t    this.canChangeLogo = this.canChangeTheLogo();\r\n\t    this.loadLogo();\r\n    }\r\n  }\r\n  public uploadLogo(logo:any) {\r\n\t  let oldLogo = this.logo;\r\n\t  this.uploadingLogo = true;\r\n\t  this.logoService.uploadLogo(this.organization.mrn, logo).subscribe(\r\n\t\t  logo => {\r\n\t\t\t  this.loadLogo();\r\n\t\t  },\r\n\t\t  err => {\r\n\t\t\t  this.logo = oldLogo;\r\n\t\t\t  this.uploadingLogo = false;\r\n\t\t\t  this.notifications.generateNotification('Error', 'Error when trying to upload logo', MCNotificationType.Error, err);\r\n\t\t  }\r\n\t  );\r\n  }\r\n\r\n  private setLabelValues() {\r\n\t  this.labelValues = this.orgViewModelService.generateLabelValuesForOrganization(this.organization);\r\n\t  this.isLoadingOrgAndLogo = false;\r\n  }\r\n\r\n\tprivate loadLogo(){\r\n\t\tthis.logoService.getLogoForOrganization(this.organization.mrn).subscribe(\r\n\t\t\tlogo => {\r\n\t\t\t\tthis.logo = URL.createObjectURL(new Blob([logo]));\r\n\t\t\t\tthis.setLabelValues();\r\n\t\t\t\tthis.uploadingLogo = false;\r\n\t\t\t\tthis.onLogoLoaded.emit('');\r\n\t\t\t},\r\n\t\t\terr => {\r\n\t\t\t\tif (this.canChangeTheLogo()) {\r\n\t\t\t\t\tthis.logo = 'assets/img/no_organization.png';\r\n\t\t\t\t}\r\n\t\t\t\tthis.setLabelValues();\r\n\t\t\t\tthis.uploadingLogo = false;\r\n\t\t\t\tthis.onLogoLoaded.emit('');\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\tprivate canChangeTheLogo():boolean {\r\n\t\treturn ( (this.authService.authState.isAdmin() && this.authService.isMyOrg(this.organization.mrn)) || this.authService.authState.isSiteAdmin());\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/pages/shared/components/organizaton-details-table/organization-details-table.component.ts","module.exports = \"<div *ngIf=\\\"displayLogo && logo\\\" style=\\\"margin-bottom: 10px;\\\">\\r\\n  <img class=\\\"logo-image-no-center\\\" [attr.src]=\\\"logo | sanitizeUrl\\\" *ngIf=\\\"logo && !canChangeLogo\\\">\\r\\n  <mc-logo-uploader [logo]=\\\"logo\\\" [uploadingLogo]=\\\"uploadingLogo\\\" (onUpload)=\\\"uploadLogo($event)\\\" *ngIf=\\\"logo && canChangeLogo\\\"></mc-logo-uploader>\\r\\n</div>\\r\\n<mc-label-value-table [isLoading]=\\\"isLoadingOrgAndLogo\\\" [labelValues]=\\\"labelValues\\\"></mc-label-value-table>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/shared/components/organizaton-details-table/organization-details-table.html\n// module id = ./src/app/pages/shared/components/organizaton-details-table/organization-details-table.html\n// module chunks = 0 1 2 3 4","import {Component, ViewEncapsulation, Input, Output, EventEmitter} from '@angular/core';\r\nimport {LabelValueModel} from \"../../../../theme/components/mcLabelValueTable/mcLabelValueTable.component\";\r\nimport {Service} from \"../../../../backend-api/identity-registry/autogen/model/Service\";\r\nimport {CertificateEntityType} from \"../../services/certificate-helper.service\";\r\nimport {FileHelperService} from \"../../../../shared/file-helper.service\";\r\nimport {AuthService} from \"../../../../authentication/services/auth.service\";\r\nimport {ServiceViewModel} from \"../../../org-identity-registry/services/view-models/ServiceViewModel\";\r\nimport {MCNotificationType, MCNotificationsService} from \"../../../../shared/mc-notifications.service\";\r\nimport {IdServicesService} from \"../../../../backend-api/identity-registry/services/id-services.service\";\r\nimport {NavigationHelperService} from \"../../../../shared/navigation-helper.service\";\r\nimport {TOKEN_DELIMITER} from \"../../../../shared/app.constants\";\r\nimport {InstancesService} from \"../../../../backend-api/service-registry/services/instances.service\";\r\nimport {Instance} from \"../../../../backend-api/service-registry/autogen/model/Instance\";\r\n\r\n@Component({\r\n  selector: 'service-details-view',\r\n  encapsulation: ViewEncapsulation.None,\r\n  template: require('./service-details-view.html'),\r\n  styles: []\r\n})\r\nexport class ServiceDetailsViewComponent {\r\n\t@Input() service:Service;\r\n\t@Input() shouldShowDelete:boolean = true;\r\n\t@Input() shouldShowUpdate:boolean = true;\r\n\t@Input() shouldShowLinkToInstance:boolean = true;\r\n\t@Input() isLoading:boolean;\r\n\t@Input() title:string;\r\n\r\n\t@Output() deleteAction:EventEmitter<any> = new EventEmitter<any>();\r\n\t@Output() updateAction:EventEmitter<any> = new EventEmitter<any>();\r\n\r\n\tpublic labelValues:Array<LabelValueModel>;\r\n\tpublic entityType: CertificateEntityType;\r\n\tpublic entityMrn:string;\r\n\tpublic onGotoVessel: Function;\r\n\tpublic onGotoInstance: Function;\r\n\tprivate linkToInstance:boolean = false;\r\n\tpublic isLoadingInstance:boolean = false;\r\n\r\n\tconstructor(private fileHelperService:FileHelperService, private authService: AuthService, private servicesService: IdServicesService, private notifications:MCNotificationsService, private navigationHelperService: NavigationHelperService, private instancesService:InstancesService) {\r\n\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\tthis.isLoadingInstance = true;\r\n\t\tthis.entityType = CertificateEntityType.Service;\r\n\t\tthis.onGotoVessel = this.gotoVessel.bind(this);\r\n\t\tthis.onGotoInstance = this.gotoInstance.bind(this);\r\n\t}\r\n\r\n\tngOnChanges() {\r\n\t\tif (this.service) {\r\n\t\t\tthis.entityMrn = this.service.mrn + TOKEN_DELIMITER + this.service.instanceVersion;\r\n\t\t\tif (this.shouldShowLinkToInstance) {\r\n\t\t\t\tthis.loadInstance();\r\n\t\t\t} else {\r\n\t\t\t\tthis.generateLabelValues();\r\n\t\t\t\tthis.isLoadingInstance = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate loadInstance() {\r\n\t\tthis.instancesService.getInstance(this.service.mrn, this.service.instanceVersion).subscribe(\r\n\t\t\tinstance => {\r\n\t\t\t\tthis.linkToInstance = true;\r\n\t\t\t\tthis.generateLabelValues();\r\n\t\t\t\tthis.isLoadingInstance = false;\r\n\t\t\t},\r\n\t\t\terr => {\r\n\t\t\t\tif (err.status == 404) {\r\n\t\t\t\t\tthis.linkToInstance = false;\r\n\t\t\t\t\tthis.generateLabelValues();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.notifications.generateNotification('Error', 'Error when trying to get the Instance for the ID service', MCNotificationType.Error, err);\r\n\t\t\t\t}\r\n\t\t\t\tthis.isLoadingInstance = false;\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tpublic showDownload():boolean {\r\n\t\treturn this.service.oidcClientId && this.isAdmin();\r\n\t}\r\n\r\n\tpublic downloadXML() {\r\n\t\tthis.servicesService.getIdServiceJbossXml(this.service.mrn, this.service.instanceVersion).subscribe(\r\n\t\t\txmlString => {\r\n\t\t\t\tthis.fileHelperService.downloadFile(xmlString, 'text/xml', 'keycloak-oidc-subsystem.xml');\r\n\t\t\t},\r\n\t\t\terr => {\r\n\t\t\t\tthis.isLoading = false;\r\n\t\t\t\tthis.notifications.generateNotification('Error', 'Error when trying to download the XML', MCNotificationType.Error, err);\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tpublic downloadJSON() {\r\n\t\tthis.servicesService.getServiceKeycloakJson(this.service.mrn, this.service.instanceVersion).subscribe(\r\n\t\t\tjsonString => {\r\n\t\t\t\tthis.fileHelperService.downloadFile(jsonString, 'text/json', 'keycloak.json');\r\n\t\t\t},\r\n\t\t\terr => {\r\n\t\t\t\tthis.isLoading = false;\r\n\t\t\t\tthis.notifications.generateNotification('Error', 'Error when trying to download the JSON', MCNotificationType.Error, err);\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tpublic generateLabelValues() {\r\n\t\tthis.labelValues = [];\r\n\t\tif (this.service) {\r\n\t\t\tthis.labelValues.push({label: 'MRN', valueHtml: this.service.mrn});\r\n\t\t\tthis.labelValues.push({label: 'Name', valueHtml: this.service.name});\r\n\t\t\tthis.labelValues.push({label: 'Permissions', valueHtml: this.service.permissions});\r\n\t\t\tthis.labelValues.push({label: 'Certificate domain name', valueHtml: this.service.certDomainName});\r\n\t\t\tif (this.service.oidcRedirectUri) {\r\n\t\t\t\tthis.labelValues.push({label: 'OIDC Redirect URI', valueHtml: this.service.oidcRedirectUri});\r\n\t\t\t}\r\n\t\t\tif (this.service.oidcClientId) {\r\n\t\t\t\tthis.labelValues.push({label: 'OIDC Client ID', valueHtml: this.service.oidcClientId});\r\n\t\t\t}\r\n\t\t\tif (this.service.oidcClientSecret) {\r\n\t\t\t\tthis.labelValues.push({label: 'OIDC Client Secret', valueHtml: this.service.oidcClientSecret});\r\n\t\t\t}\r\n\r\n\t\t\tif (this.service.oidcAccessType) {\r\n\t\t\t\tthis.labelValues.push({label: 'Access type', valueHtml: ServiceViewModel.getLabelForEnum(this.service.oidcAccessType)});\r\n\t\t\t}\r\n\r\n\t\t\tthis.generateLabelValueForVessel();\r\n\r\n\t\t\tthis.generateLabelValueForInstance();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate generateLabelValueForVessel() {\r\n\t\tlet vessel = this.service.vessel;\r\n\t\tif (vessel) {\r\n\t\t\tlet label = 'Linked vessel';\r\n\t\t\tthis.labelValues.push({label: label, valueHtml: vessel.name, linkFunction: this.onGotoVessel, linkValue: [vessel.mrn]});\r\n\t\t}\r\n\t}\r\n\r\n\tprivate generateLabelValueForInstance() {\r\n\t\tif (this.shouldShowLinkToInstance && this.linkToInstance) {\r\n\t\t\tlet label = 'Linked Instance';\r\n\t\t\tthis.labelValues.push({label: label, valueHtml: this.service.name, linkFunction: this.onGotoInstance, linkValue: [this.service.mrn, this.service.instanceVersion]});\r\n\t\t}\r\n\t}\r\n\r\n\tpublic showDelete():boolean {\r\n\t\treturn this.shouldShowDelete && this.isAdmin() && this.service != null;\r\n\t}\r\n\r\n\tpublic showUpdate():boolean {\r\n\t\treturn this.shouldShowUpdate && this.isAdmin() && this.service != null;\r\n\t}\r\n\r\n\tprivate isAdmin() {\r\n\t\treturn this.authService.authState.isAdmin();\r\n\t}\r\n\r\n\tprivate delete() {\r\n\t\tthis.deleteAction.emit('');\r\n\t}\r\n\r\n\tprivate update() {\r\n\t\tthis.updateAction.emit('');\r\n\t}\r\n\r\n\tprivate gotoInstance(linkValue:any) {\r\n\t\ttry {\r\n\t\t\tthis.navigationHelperService.navigateToOrgInstance(linkValue[0], linkValue[1]);\r\n\t\t} catch (error) {\r\n\t\t\tthis.notifications.generateNotification('Error', 'Error when trying to go to instance', MCNotificationType.Error, error);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate gotoVessel(linkValue:any) {\r\n\t\ttry {\r\n\t\t\tthis.navigationHelperService.navigateToVessel(linkValue[0]);\r\n\t\t} catch (error) {\r\n\t\t\tthis.notifications.generateNotification('Error', 'Error when trying to go to vessel', MCNotificationType.Error, error);\r\n\t\t}\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/pages/shared/components/service-details-view/service-details-view.component.ts","module.exports = \"<ba-card title=\\\"{{title}}\\\" baCardClass=\\\"with-scroll table-panel\\\">\\r\\n  <mc-label-value-table [isLoading]=\\\"isLoading || isLoadingInstance\\\" [labelValues]=\\\"labelValues\\\"></mc-label-value-table>\\r\\n  <ul *ngIf=\\\"!isLoading && service && (showDownload() || showDelete() || showUpdate())\\\" class=\\\"btn-list clearfix\\\">\\r\\n    <li *ngIf=\\\"showDownload()\\\">\\r\\n      <button type=\\\"button\\\" class=\\\"btn btn-primary btn-raised\\\" (click)=\\\"downloadXML()\\\">Download JBOSS XML</button>\\r\\n    </li>\\r\\n    <li *ngIf=\\\"showDownload()\\\">\\r\\n      <button type=\\\"button\\\" class=\\\"btn btn-primary btn-raised\\\" (click)=\\\"downloadJSON()\\\">Download Keycloak JSON</button>\\r\\n    </li>\\r\\n    <li *ngIf=\\\"showUpdate()\\\">\\r\\n      <button type=\\\"button\\\" class=\\\"btn btn-primary btn-raised\\\" (click)=\\\"update()\\\">Update</button>\\r\\n    </li>\\r\\n    <li *ngIf=\\\"showDelete()\\\">\\r\\n      <button type=\\\"button\\\" class=\\\"btn btn-danger btn-raised\\\" (click)=\\\"delete()\\\">Delete Service</button>\\r\\n    </li>\\r\\n  </ul>\\r\\n</ba-card>\\r\\n\\r\\n<div *ngIf=\\\"service\\\">\\r\\n  <ba-card title=\\\"Certificates for {{service.name}}\\\" baCardClass=\\\"with-scroll table-panel\\\">\\r\\n    <certificates-table [entityMrn]=\\\"entityMrn\\\" [isLoading]=\\\"isLoading\\\" [certificateTitle]=\\\"service.name\\\" [certificateEntityType]=\\\"entityType\\\" [certificates]=\\\"service.certificates\\\"></certificates-table>\\r\\n  </ba-card>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/shared/components/service-details-view/service-details-view.html\n// module id = ./src/app/pages/shared/components/service-details-view/service-details-view.html\n// module chunks = 0 1 2 3 4","import {Component, ViewEncapsulation, Input, Output, EventEmitter, ChangeDetectorRef, OnDestroy} from '@angular/core';\r\nimport {MCNotificationsService, MCNotificationType} from \"../../../../shared/mc-notifications.service\";\r\nimport {OrganizationsService} from \"../../../../backend-api/identity-registry/services/organizations.service\";\r\nimport {ServiceRegistrySearchRequest} from \"./ServiceRegistrySearchRequest\";\r\nimport {FormGroup, FormBuilder, FormControl} from \"@angular/forms\";\r\nimport {Organization} from \"../../../../backend-api/identity-registry/autogen/model/Organization\";\r\nimport {AuthService} from \"../../../../authentication/services/auth.service\";\r\nimport {SrSearchRequestsService} from \"../../../org-service-registry/shared/services/sr-search-requests.service\";\r\nimport {SHOW_ENDORSEMENTS} from \"../../../../shared/app.constants\";\r\n\r\ninterface SelectModel {\r\n\tlabel:string;\r\n\tvalue:string;\r\n}\r\n\r\n@Component({\r\n  selector: 'service-registry-search',\r\n  encapsulation: ViewEncapsulation.None,\r\n  template: require('./service-registry-search.html'),\r\n\tstyles: [require('./service-registry-search.scss')]\r\n})\r\nexport class ServiceRegistrySearchComponent implements OnDestroy {\r\n\t@Input() searchTitle: string;\r\n\t@Input() searchKey: string;\r\n\t@Input() isSearching: boolean;\r\n\t@Input() preFilterMyOrg: boolean;\r\n\t@Input() showEndorsement: boolean;\r\n\t@Input() showKeywords: boolean = true;\r\n\t@Output() onSearch:EventEmitter<ServiceRegistrySearchRequest> = new EventEmitter<ServiceRegistrySearchRequest>();\r\n\tprivate endorsementMainSwitch = SHOW_ENDORSEMENTS;\r\n\r\n\tpublic isLoading: boolean;\r\n\tpublic formGroup: FormGroup;\r\n\tpublic selectValuesOrganizations:Array<SelectModel>;\r\n\tpublic selectValuesOrganizationsForEndorsement:Array<SelectModel>;\r\n\tpublic onSearchFunction: Function;\r\n\tpublic isCollapsed:boolean;\r\n\tpublic collapsedClass:string;\r\n\tpublic toggleClass:string;\r\n\r\n  constructor(private searchRequestsService:SrSearchRequestsService, private changeDetector: ChangeDetectorRef, private authService:AuthService, formBuilder:FormBuilder, private orgsService: OrganizationsService, private notifications: MCNotificationsService) {\r\n  \tthis.formGroup = formBuilder.group({});\r\n  }\r\n\r\n\tngOnDestroy() {\r\n\t\tthis.changeDetector.detach();\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\tthis.onSearchFunction = this.search.bind(this);\r\n\t\tthis.isCollapsed = false;\r\n\t\tthis.setClass();\r\n  \tthis.isLoading = true;\r\n\t\tthis.generateForm();\r\n  \tthis.loadOrganizations();\r\n\t}\r\n\r\n\tpublic toggle() {\r\n\t\t\tthis.isCollapsed = !this.isCollapsed;\r\n\t\t\tthis.setClass();\r\n\t\t}\r\n\r\n\tprivate setClass() {\r\n\t\t\tthis.toggleClass = this.isCollapsed ? 'fa fa-caret-square-o-down' : 'fa fa-caret-square-o-up';\r\n\t\t}\r\n\r\n  public search() {\r\n  \tlet keywords = this.formGroup.value.keywords;\r\n\r\n\t  let endorsedBy:string;\r\n\t  let registeredBy:string;\r\n\r\n\t  let registeredByValue = this.formGroup.value.registeredBy;\r\n\t  if (registeredByValue && registeredByValue.toLowerCase().indexOf('undefined') < 0) {\r\n\t\t  registeredBy = registeredByValue;\r\n\t  }\r\n\r\n\t  let endorsedByValue = this.formGroup.value.endorsedBy;\r\n\t  if (endorsedByValue && endorsedByValue.toLowerCase().indexOf('undefined') < 0) {\r\n\t\t  endorsedBy = endorsedByValue;\r\n\t  }\r\n\t\tthis.doSearch(keywords, registeredBy, endorsedBy);\r\n  }\r\n\r\n  private searchFromRegisteredBy(registeredBy) {\r\n\t  let keywords = this.formGroup.value.keywords;\r\n\r\n\t  let endorsedBy:string;\r\n\r\n\t  if (registeredBy && registeredBy.toLowerCase().indexOf('undefined') > -1) {\r\n\t\t  registeredBy = undefined;\r\n\t  }\r\n\r\n\t  let endorsedByValue = this.formGroup.value.endorsedBy;\r\n\t  if (endorsedByValue && endorsedByValue.toLowerCase().indexOf('undefined') < 0) {\r\n\t\t  endorsedBy = endorsedByValue;\r\n\t  }\r\n\t  this.doSearch(keywords, registeredBy, endorsedBy);\r\n  }\r\n\r\n  private searchFromEndorsedBy(endorsedBy:string) {\r\n\t  let keywords = this.formGroup.value.keywords;\r\n\r\n\t  let registeredBy:string;\r\n\r\n\r\n\t  let registeredByValue = this.formGroup.value.registeredBy;\r\n\t  if (registeredByValue && registeredByValue.toLowerCase().indexOf('undefined') < 0) {\r\n\t\t  registeredBy = registeredByValue;\r\n\t  }\r\n\r\n\t  if (endorsedBy && endorsedBy.toLowerCase().indexOf('undefined') > -1) {\r\n\t\t  endorsedBy = undefined;\r\n\t  }\r\n\r\n\t  this.doSearch(keywords, registeredBy, endorsedBy);\r\n  }\r\n\r\n  private doSearch(keywords:string, registeredBy:string, endorsedBy:string) {\r\n\t  let searchRequest: ServiceRegistrySearchRequest = {keywords:keywords, registeredBy:registeredBy, endorsedBy:endorsedBy};\r\n\t  this.searchRequestsService.addSearchRequest(this.searchKey, searchRequest);\r\n\t  this.notifications.errorLog = null; // Remove error log if it is present\r\n\t  this.onSearch.emit(searchRequest);\r\n  }\r\n\r\n\tprivate generateForm() {\r\n\t\tvar formControl = new FormControl('');\r\n\t\tthis.formGroup.addControl('keywords', formControl);\r\n\r\n\t\tformControl = new FormControl(undefined);\r\n\t\tthis.formGroup.addControl('registeredBy', formControl);\r\n\r\n\t\tformControl = new FormControl(undefined);\r\n\t\tthis.formGroup.addControl('endorsedBy', formControl);\r\n\t}\r\n\r\n\r\n\r\n\tprivate loadOrganizations() {\r\n\t\tthis.orgsService.getAllOrganizations().subscribe(\r\n\t\t\torganizations => {\r\n\t\t\t\tthis.setupSearchRequest(organizations);\r\n\t\t\t\tthis.isLoading = false;\r\n\t\t\t},\r\n\t\t\terr => {\r\n\t\t\t\tthis.setupSearchRequest([]);\r\n\t\t\t\tthis.isLoading = false;\r\n\t\t\t\tthis.notifications.generateNotification('Error', 'Error when trying to get organizations', MCNotificationType.Error, err);\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tprivate setupSearchRequest(organizations:Array<Organization>) {\r\n\t\tthis.selectValuesOrganizations = [];\r\n\t\tthis.selectValuesOrganizations.push({value:undefined, label:'All'});\r\n\t\tthis.selectValuesOrganizationsForEndorsement = [];\r\n\t\tthis.selectValuesOrganizationsForEndorsement.push({value:undefined, label:'No filter'});\r\n\r\n\t\torganizations.forEach(organization => {\r\n\t\t\tthis.selectValuesOrganizations.push({value:organization.mrn, label:organization.name});\r\n\t\t\tthis.selectValuesOrganizationsForEndorsement.push({value:organization.mrn, label:organization.name});\r\n\t\t});\r\n\t\tvar registeredBy:string;\r\n\t\tvar endorsedBy:string;\r\n\t\tvar keywords:string = '';\r\n\t\tlet searchRequest = this.searchRequestsService.getSearchRequest(this.searchKey);\r\n\t\tif (searchRequest) {\r\n\t\t\tregisteredBy = searchRequest.registeredBy;\r\n\t\t\tendorsedBy = searchRequest.endorsedBy;\r\n\t\t\tif (searchRequest.keywords) {\r\n\t\t\t\tkeywords = searchRequest.keywords;\r\n\t\t\t}\r\n\t\t} else if (this.preFilterMyOrg){\r\n\t\t\tregisteredBy = this.authService.authState.orgMrn;\r\n\t\t}\r\n\t\tthis.formGroup.patchValue({registeredBy: registeredBy});\r\n\t\tthis.formGroup.patchValue({endorsedBy: endorsedBy});\r\n\t\tthis.formGroup.patchValue({keywords: keywords});\r\n\r\n\t\tthis.formGroup.controls['registeredBy'].valueChanges.subscribe(param => this.searchFromRegisteredBy(param));\r\n\t\tthis.formGroup.controls['endorsedBy'].valueChanges.subscribe(param => this.searchFromEndorsedBy(param));\r\n\r\n\t\tthis.changeDetector.detectChanges();\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/pages/shared/components/service-registry-search/service-registry-search.component.ts","module.exports = \"<a class=\\\"search-link\\\" (click)=\\\"toggle()\\\">\\r\\n  <h4>{{searchTitle}} <i style=\\\"margin-left:2px;color: white; font-size: 16px;\\\" class=\\\"{{toggleClass}}\\\" aria-hidden=\\\"true\\\"></i></h4>\\r\\n</a>\\r\\n<div class=\\\"mc-form-group\\\" style=\\\"margin-bottom: 0px !important;\\\" *ngIf=\\\"!isCollapsed && !isLoading && formGroup\\\">\\r\\n  <form [formGroup]=\\\"formGroup\\\">\\r\\n    <div *ngIf=\\\"showKeywords\\\" class=\\\"row\\\">\\r\\n      <div class=\\\"col-sm-12\\\">\\r\\n        <div [formGroup]=\\\"formGroup\\\" class=\\\"form-group mc-form-group\\\">\\r\\n          <label class=\\\"mc-form-label\\\">Keywords\\r\\n            <div class=\\\"input-group\\\">\\r\\n              <input type=\\\"text\\\" class=\\\"form-control mc-form-control\\\" formControlName=\\\"keywords\\\">\\r\\n              <span class=\\\"mc-form-control-input-group-btn input-group-btn\\\">\\r\\n                <mc-loading-button [type]=\\\"'submit'\\\" [class]=\\\"'btn btn-primary search-button'\\\" [isLoading]=\\\"isSearching\\\" [title]=\\\"'Search'\\\" [onClick]=\\\"onSearchFunction\\\" ></mc-loading-button>\\r\\n              </span>\\r\\n            </div>\\r\\n          </label>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col-sm-6\\\">\\r\\n        <div [formGroup]=\\\"formGroup\\\" class=\\\"form-group mc-form-group\\\" style=\\\"margin-bottom: 0px !important;\\\">\\r\\n          <label class=\\\"mc-form-label\\\">Registered by\\r\\n            <select class=\\\"form-control mc-form-control mc-form-control-select\\\" formControlName=\\\"registeredBy\\\">\\r\\n              <option *ngFor=\\\"let selectValue of selectValuesOrganizations\\\" [ngValue]=\\\"selectValue.value\\\">\\r\\n                {{selectValue.label}}\\r\\n              </option>\\r\\n            </select>\\r\\n          </label>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div *ngIf=\\\"showEndorsement && endorsementMainSwitch\\\" class=\\\"col-sm-6\\\">\\r\\n        <div [formGroup]=\\\"formGroup\\\" class=\\\"form-group mc-form-group\\\" style=\\\"margin-bottom: 0px !important;\\\">\\r\\n          <label class=\\\"mc-form-label\\\">Endorsed by\\r\\n            <select class=\\\"form-control mc-form-control mc-form-control-select\\\" formControlName=\\\"endorsedBy\\\">\\r\\n              <option *ngFor=\\\"let selectValue of selectValuesOrganizationsForEndorsement\\\" [ngValue]=\\\"selectValue.value\\\">\\r\\n                {{selectValue.label}}\\r\\n              </option>\\r\\n            </select>\\r\\n          </label>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </form>\\r\\n</div>\\r\\n<div *ngIf=\\\"!isCollapsed\\\">\\r\\n  <sk-fading-circle [isRunning]=\\\"isLoading\\\" ></sk-fading-circle>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/shared/components/service-registry-search/service-registry-search.html\n// module id = ./src/app/pages/shared/components/service-registry-search/service-registry-search.html\n// module chunks = 0 1 2 3 4","module.exports = \".mc-form-label {\\n  width: 100%; }\\n\\n.mc-form-control {\\n  margin-top: 5px; }\\n\\n.mc-form-control:read-only {\\n  cursor: not-allowed;\\n  color: rgba(255, 255, 255, 0.7); }\\n\\n.mc-form-control-success {\\n  border: 1px solid #8bd22f !important; }\\n  .mc-form-control-success:focus {\\n    border: 1px solid #aee06d !important; }\\n\\n.mc-form-control-error {\\n  border: 1px solid #f95372 !important; }\\n  .mc-form-control-error:focus {\\n    border: 1px solid #fb879c !important; }\\n\\n.mc-form-group {\\n  max-width: 450px;\\n  margin-bottom: 0.5rem !important; }\\n\\n.mc-form-control-feedback {\\n  top: 20px !important;\\n  right: 10px !important; }\\n\\n.mc-form-control-select:read-only {\\n  cursor: default !important;\\n  color: #ffffff !important; }\\n\\n.search-link {\\n  cursor: pointer;\\n  color: #ffffff; }\\n  .search-link:hover {\\n    transform: none;\\n    color: #ffffff; }\\n\\n.mc-form-control-input-group-btn {\\n  padding-top: 5px; }\\n\\n.search-button {\\n  border-bottom-left-radius: 0 !important;\\n  border-top-left-radius: 0 !important; }\\n  .search-button:hover {\\n    transform: none; }\\n\\n.input-group {\\n  margin-bottom: 0px !important; }\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/shared/components/service-registry-search/service-registry-search.scss\n// module id = ./src/app/pages/shared/components/service-registry-search/service-registry-search.scss\n// module chunks = 0 1 2 3 4","import {Component, Input, OnChanges, ViewEncapsulation} from '@angular/core';\r\nimport {TableCell, TableHeader, TableRow} from \"../../../../theme/components/mcTable/mcTable.component\";\r\nimport {MCNotificationsService, MCNotificationType} from \"../../../../shared/mc-notifications.service\";\r\nimport {InstancesService} from \"../../../../backend-api/service-registry/services/instances.service\";\r\nimport {BugReportingService} from \"../../../../backend-api/identity-registry/services/bug-reporting.service\";\r\nimport {BugReport} from \"../../../../backend-api/identity-registry/autogen/model/BugReport\";\r\nimport {Service} from \"../../../../backend-api/identity-registry/autogen/model/Service\";\r\nimport {OrganizationsService} from \"../../../../backend-api/identity-registry/services/organizations.service\";\r\nimport {NavigationHelperService} from \"../../../../shared/navigation-helper.service\";\r\n\r\n@Component({\r\n  selector: 'services-table',\r\n  encapsulation: ViewEncapsulation.None,\r\n  template: require('./services-table.html'),\r\n  styles: []\r\n})\r\nexport class ServicesTableComponent implements OnChanges {\r\n  @Input() services: Array<Service>;\r\n  @Input() isLoading: boolean;\r\n\tpublic onRowClick: Function;\r\n  public tableHeaders: Array<TableHeader>;\r\n  public tableRows: Array<TableRow>;\r\n  constructor(private navigationHelperService:NavigationHelperService, private orgsService:OrganizationsService, private notifications: MCNotificationsService, private instancesService: InstancesService, private bugService: BugReportingService) {\r\n  }\r\n  ngOnInit() {\r\n\t  this.onRowClick = this.gotoService.bind(this);\r\n  }\r\n  ngOnChanges() {\r\n    if (this.services) {\r\n      this.generateHeadersAndRows();\r\n    }\r\n  }\r\n  private generateHeadersAndRows() {\r\n    var tableHeaders: Array<TableHeader> = [];\r\n    var tableRows: Array<TableRow> = [];\r\n\r\n    var tableHeader: TableHeader = {title:'Name', class:''};\r\n    tableHeaders.push(tableHeader);\r\n\r\n    tableHeader = {title:'Version', class:'nowrap align-center'};\r\n    tableHeaders.push(tableHeader);\r\n\r\n\t  tableHeader = {title:'Organization', class:'nowrap'};\r\n\t  tableHeaders.push(tableHeader);\r\n\r\n    for (let service of this.services) {\r\n      var cells:Array<TableCell> = [];\r\n\r\n      var tableCell: TableCell = {valueHtml:service.name, class:'', truncateNumber:250};\r\n      cells.push(tableCell);\r\n\r\n      tableCell = {valueHtml:service.instanceVersion, class:'nowrap align-center', truncateNumber:0};\r\n      cells.push(tableCell);\r\n\r\n\t    tableCell = {valueHtml:'', class:'nowrap', truncateNumber:30};\r\n\t    this.setOrganizationCell(tableCell, \"urn:mrn:mcl:org:dma\"); // FIXME: fjern igen\r\n\t    cells.push(tableCell);\r\n\r\n      let tableRow: TableRow = {cells: cells};\r\n      tableRows.push(tableRow);\r\n    }\r\n\r\n    this.tableHeaders = tableHeaders;\r\n    this.tableRows = tableRows;\r\n  }\r\n\r\n  private setOrganizationCell(tableCell: TableCell, organizationId) {\r\n\t\tthis.orgsService.getOrganizationName(organizationId).subscribe(\r\n\t\t\torganizationName => {\r\n\t\t\t\ttableCell.valueHtml = organizationName;\r\n\t\t\t},\r\n\t\t\terr => {\r\n\t\t\t\tthis.notifications.generateNotification('Error', 'Error when trying to get organization', MCNotificationType.Error, err);\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tprivate gotoService(index:number) {\r\n  \tlet mrn = this.services[index].mrn;\r\n  \tlet version = this.services[index].instanceVersion;\r\n  \tthis.isLoading = true;\r\n\t\tthis.instancesService.getInstance(mrn, version).subscribe(\r\n\t\t\tinstance => {\r\n\t\t\t\tthis.navigationHelperService.navigateToOrgInstance(mrn, version);\r\n\t\t\t},\r\n\t\t\terr => {\r\n\t\t\t\tif (err.status == 404) {\r\n\t\t\t\t\t// when using the portal only to register instances, this should never happen. However, if someone uses the SR api only then there might be something missing. We log it for further investigation\r\n\t\t\t\t\tlet bugReport:BugReport = {subject:\"Missing instance\", description:\"There is a service in the IR that doesn't exist in the SR.\\n\\n MRN: \" + mrn + \",\\nVersion: \" + version};\r\n\t\t\t\t\tthis.bugService.reportBug(bugReport)\r\n\t\t\t\t}\r\n\t\t\t\tthis.navigationHelperService.navigateToOrgInstance(mrn, version);\r\n\r\n\t\t\t},\r\n\t\t);\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/pages/shared/components/services-table/services-table.component.ts","module.exports = \"<mc-table [tableHeaders]=\\\"tableHeaders\\\" [tableRows]=\\\"tableRows\\\" [isLoading]=\\\"isLoading\\\" [onRowClick]=\\\"onRowClick\\\"></mc-table>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/shared/components/services-table/services-table.html\n// module id = ./src/app/pages/shared/components/services-table/services-table.html\n// module chunks = 0 1 2 3 4","import {Component, ViewEncapsulation, Input, OnChanges} from '@angular/core';\r\nimport {Specification} from \"../../../../backend-api/service-registry/autogen/model/Specification\";\r\nimport {TableHeader, TableRow, TableCell} from \"../../../../theme/components/mcTable/mcTable.component\";\r\nimport {Organization} from \"../../../../backend-api/identity-registry/autogen/model/Organization\";\r\nimport {OrganizationsService} from \"../../../../backend-api/identity-registry/services/organizations.service\";\r\nimport {MCNotificationType, MCNotificationsService} from \"../../../../shared/mc-notifications.service\";\r\n\r\n@Component({\r\n  selector: 'specifications-table',\r\n  encapsulation: ViewEncapsulation.None,\r\n  template: require('./specifications-table.html'),\r\n  styles: []\r\n})\r\nexport class SpecificationsTableComponent implements OnChanges {\r\n  @Input() specifications: Array<Specification>;\r\n  @Input() isLoading: boolean;\r\n  @Input() onRowClick: (index:number) => void;\r\n  public tableHeaders: Array<TableHeader>;\r\n  public tableRows: Array<TableRow>;\r\n  constructor(private orgsService: OrganizationsService, private notifications: MCNotificationsService) {\r\n  }\r\n  ngOnInit() {\r\n  }\r\n  ngOnChanges() {\r\n    if (this.specifications) {\r\n      this.generateHeadersAndRows();\r\n    }\r\n  }\r\n  private generateHeadersAndRows() {\r\n    var tableHeaders: Array<TableHeader> = [];\r\n    var tableRows: Array<TableRow> = [];\r\n\r\n    var tableHeader: TableHeader = {title:'Name', class:''};\r\n    tableHeaders.push(tableHeader);\r\n\r\n    tableHeader = {title:'Version', class:'nowrap align-center'};\r\n    tableHeaders.push(tableHeader);\r\n\r\n\t  tableHeader = {title:'Status', class:'nowrap'};\r\n\t  tableHeaders.push(tableHeader);\r\n\r\n\t  tableHeader = {title:'Organization', class:'nowrap'};\r\n\t  tableHeaders.push(tableHeader);\r\n\r\n    tableHeader = {title:'Description', class:''};\r\n    tableHeaders.push(tableHeader);\r\n\r\n    for (let specification of this.specifications) {\r\n      var cells:Array<TableCell> = [];\r\n\r\n      var tableCell: TableCell = {valueHtml:specification.name, class:'', truncateNumber:50};\r\n      cells.push(tableCell);\r\n\r\n      tableCell = {valueHtml:specification.version, class:'nowrap align-center', truncateNumber:0};\r\n      cells.push(tableCell);\r\n\r\n\t    tableCell = {valueHtml:specification.status, class:'nowrap', truncateNumber:0};\r\n\t    cells.push(tableCell);\r\n\r\n\t    tableCell = {valueHtml:'', class:'nowrap', truncateNumber:30};\r\n\t    this.setOrganizationCell(tableCell, specification.organizationId);\r\n\t    cells.push(tableCell);\r\n\r\n      tableCell = {valueHtml:specification.description, class:'table-description', truncateNumber:250};\r\n      cells.push(tableCell);\r\n\r\n      let tableRow: TableRow = {cells: cells};\r\n      tableRows.push(tableRow);\r\n    }\r\n\r\n    this.tableHeaders = tableHeaders;\r\n    this.tableRows = tableRows;\r\n  }\r\n\r\n  private setOrganizationCell(tableCell: TableCell, organizationId) {\r\n\t  this.orgsService.getOrganizationName(organizationId).subscribe(\r\n\t\t  organizationName => {\r\n\t\t\t  tableCell.valueHtml = organizationName;\r\n\t\t  },\r\n\t\t  err => {\r\n\t\t\t  this.notifications.generateNotification('Error', 'Error when trying to get organization', MCNotificationType.Error, err);\r\n\t\t  }\r\n\t  );\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/pages/shared/components/specifications-table/specifications-table.component.ts","module.exports = \"<mc-table [tableHeaders]=\\\"tableHeaders\\\" [tableRows]=\\\"tableRows\\\" [isLoading]=\\\"isLoading\\\" [onRowClick]=\\\"onRowClick\\\"></mc-table>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/shared/components/specifications-table/specifications-table.html\n// module id = ./src/app/pages/shared/components/specifications-table/specifications-table.html\n// module chunks = 0 1 2 3 4","import {Injectable, OnInit} from '@angular/core';\r\nimport {Organization} from \"../../../backend-api/identity-registry/autogen/model/Organization\";\r\nimport {LabelValueModel} from \"../../../theme/components/mcLabelValueTable/mcLabelValueTable.component\";\r\n\r\n@Injectable()\r\nexport class OrganizationViewModelService implements OnInit {\r\n  constructor() {\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n  public generateLabelValuesForOrganization(organization:Organization):Array<LabelValueModel>  {\r\n    var labelValues:Array<LabelValueModel> = undefined;\r\n    if (organization) {\r\n      labelValues = [];\r\n      labelValues.push({label: 'MRN', valueHtml: organization.mrn});\r\n\t    labelValues.push({label: 'Name', valueHtml: organization.name});\r\n      labelValues.push({label: 'Address', valueHtml: organization.address});\r\n      labelValues.push({label: 'Country', valueHtml: organization.country});\r\n      if (organization.email) {\r\n        labelValues.push({label: 'Email', valueHtml: \"<a href='mailto:\" + organization.email + \"'>\" + organization.email + \"</a>\"});\r\n      }\r\n      if (organization.url) {\r\n        labelValues.push({label: 'Website', valueHtml: \"<a href='\" + organization.url + \"' target='_blank'>\" + organization.url + \"</a>\"});\r\n      }\r\n    }\r\n    return labelValues;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/pages/shared/services/organization-view-model.service.ts","import { NgModule }      from '@angular/core';\r\nimport { CommonModule }  from '@angular/common';\r\nimport {DesignsTableComponent} from \"./components/designs-table/designs-table.component\";\r\nimport {SpecificationsTableComponent} from \"./components/specifications-table/specifications-table.component\";\r\nimport {NgaModule} from \"../../theme/nga.module\";\r\nimport {InstancesTableComponent} from \"./components/instances-table/instances-table.component\";\r\nimport {SrViewModelService} from \"../org-service-registry/shared/services/sr-view-model.service\";\r\nimport {CertificatesTableComponent} from \"./components/certificates-table/certificates-table.component\";\r\nimport {CertificateHelperService} from \"./services/certificate-helper.service\";\r\nimport {OrganizationDetailsTableComponent} from \"./components/organizaton-details-table/organization-details-table.component\";\r\nimport {OrganizationViewModelService} from \"./services/organization-view-model.service\";\r\nimport {CertificateIssueNewComponent} from \"./components/certificate-issue-new/certificate-issue-new.component\";\r\nimport {ServiceDetailsViewComponent} from \"./components/service-details-view/service-details-view.component\";\r\nimport {CertificateRevokeComponent} from \"./components/certificate-revoke/certificate-revoke.component\";\r\nimport {ServiceRegistrySearchComponent} from \"./components/service-registry-search/service-registry-search.component\";\r\nimport {ReactiveFormsModule} from \"@angular/forms\";\r\nimport {SrSearchRequestsService} from \"../org-service-registry/shared/services/sr-search-requests.service\";\r\nimport {EndorsedByListComponent} from \"./components/endorsed-by-list/endorsed-by-list.component\";\r\nimport {ServicesTableComponent} from \"./components/services-table/services-table.component\";\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    NgaModule,\r\n\t  ReactiveFormsModule\r\n  ],\r\n  declarations: [\r\n    DesignsTableComponent,\r\n    InstancesTableComponent,\r\n    SpecificationsTableComponent,\r\n    CertificatesTableComponent,\r\n    OrganizationDetailsTableComponent,\r\n    CertificateIssueNewComponent,\r\n\t  CertificateRevokeComponent,\r\n\t  ServiceDetailsViewComponent,\r\n\t  ServiceRegistrySearchComponent,\r\n\t  EndorsedByListComponent,\r\n\t  ServicesTableComponent\r\n  ],\r\n  exports: [\r\n    OrganizationDetailsTableComponent,\r\n    DesignsTableComponent,\r\n    InstancesTableComponent,\r\n    SpecificationsTableComponent,\r\n    CertificatesTableComponent,\r\n    CertificateIssueNewComponent,\r\n\t  CertificateRevokeComponent,\r\n\t  ServiceDetailsViewComponent,\r\n\t  ServiceRegistrySearchComponent,\r\n\t  EndorsedByListComponent,\r\n\t  ServicesTableComponent\r\n  ],\r\n  providers: [\r\n    SrViewModelService,\r\n    CertificateHelperService,\r\n    OrganizationViewModelService,\r\n\t  SrSearchRequestsService\r\n  ]\r\n})\r\nexport class SharedModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// node_modules/angular2-template-loader!./~/string-replace-loader?{\"search\":\"(System|SystemJS)(.*[/n/r]/s*/.|/.)import/((.+)/)\",\"replace\":\"$1.import($3).then(mod => (mod.__esModule && mod.default) ? mod.default : mod)\",\"flags\":\"g\"}!./src/app/pages/shared/shared.module.ts"],"mappings":";;;;;;AAAA;;;;;;;;;;AAUA;;AAwCA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAKA;;;;;;;;;ACxDA;;;;;;;;;;AAUA;;AA2DA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAKA;;;;;;;;;;AC3EA;AACA;AACA;AAOA;AAAA;AA6CA;AA1CA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AA7CA;;;;;;;;;;ACTA;AAQA;AAEA;AADA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAbA;AAAA;;AAAA;AAcA;AAAA;AAbA;;;;;;;;;;ACRA;AAOA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlDA;AAAA;;AAAA;AAmDA;AAAA;AAlDA;;;;;;;;;;ACPA;AACA;AACA;AAEA;AACA;AAQA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAIA;AAEA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AA5DA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAAA;AAwDA;;AAAA;AAvDA;;;;;;;;ACbA;;;;;;;;;ACAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAQA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AArEA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAAA;AAkEA;;AAAA;AAjEA;;;;;;;;AChBA;;;;;;;;;ACAA;AAMA;AAEA;AACA;AAPA;AAAA;AACA;AACA;AACA;;AAAA;AAKA;AAAA;AAJA;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAeA;AAAA;AAAA;AAbA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAAA;AACA;AAAA;AAAA;AAAA;;;;;;;;;;ACtBA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;ACzBA;AACA;AACA;AACA;AAEA;AAGA;AAUA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AA3DA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAAA;AAuDA;;AAAA;AAtDA;;;;;;;;AClBA;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAIA;AAWA;AAcA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPA;AACA;AAOA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlGA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAAA;AA8FA;;AAAA;AA7FA;;;;;;;;ACvBA;;;;;;;;;ACAA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAMA;AASA;AAgBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPA;AAQA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;;AA3BA;AADA;AAAA;;AA6BA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAlIA;AAAA;;AAAA;AACA;AAAA;;AAAA;AACA;AAAA;;AAAA;AACA;AAAA;;AAAA;AACA;AAAA;;AAAA;AAXA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAAA;AAqIA;;AAAA;AApIA;;;;;;;;ACvBA;;;;;;;ACAA;;;;;;;;;ACAA;AAGA;AACA;AAQA;AAMA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AArEA;AAAA;;AAAA;AACA;AAAA;;AAAA;AACA;AAAA;;AAAA;AATA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAAA;AAwEA;;AAAA;AAvEA;;;;;;;;ACZA;;;;;;;;;ACAA;AAEA;AACA;AACA;AAEA;AACA;AAQA;AAUA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAxEA;AAAA;;AAAA;AACA;AAAA;;AAAA;AACA;AAAA;;AAAA;AATA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAAA;AA4EA;;AAAA;AA3EA;;;;;;;;ACfA;;;;;;;;;ACAA;AAGA;AACA;AAQA;AAMA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AA3EA;AAAA;;AAAA;AACA;AAAA;;AAAA;AACA;AAAA;;AAAA;AATA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAAA;AA8EA;;AAAA;AA7EA;;;;;;;;ACZA;;;;;;;;;ACAA;AAEA;AACA;AACA;AACA;AACA;AAQA;AAUA;AAAA;AAAA;AAAA;AAAA;AARA;AAGA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAxDA;AAAA;;AAAA;AACA;AAAA;;AAAA;AACA;AAAA;;AAAA;AACA;AAAA;;AAAA;AAXA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAAA;AA4DA;;AAAA;AA3DA;;;;;;;;ACdA;;;;;;;;;ACAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AASA;AAmBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAjBA;AACA;AACA;AAIA;AACA;AAOA;AACA;AAIA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AApKA;AAAA;;AAAA;AACA;AAAA;;AAAA;AACA;AAAA;;AAAA;AACA;AAAA;;AAAA;AACA;AAAA;;AAAA;AACA;AAAA;;AAAA;AAEA;AAAA;;AAAA;AACA;AAAA;;AAAA;AAfA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAAA;AAuKA;;AAAA;AAtKA;;;;;;;;ACpBA;;;;;;;;;ACAA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAaA;AAmBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAbA;AACA;AACA;AAYA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAIA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAjKA;AAAA;;AAAA;AACA;AAAA;;AAAA;AACA;AAAA;;AAAA;AACA;AAAA;;AAAA;AACA;AAAA;;AAAA;AACA;AAAA;;AAAA;AACA;AAAA;;AAAA;AAbA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAAA;AAoKA;;AAAA;AAnKA;;;;;;;;ACrBA;;;;;;;ACAA;;;;;;;;;ACAA;AAEA;AACA;AACA;AAGA;AACA;AAQA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AA9EA;AAAA;;AAAA;AACA;AAAA;;AAAA;AARA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAAA;AAiFA;;AAAA;AAhFA;;;;;;;;AChBA;;;;;;;;;ACAA;AAIA;AACA;AAQA;AAMA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AArEA;AAAA;;AAAA;AACA;AAAA;;AAAA;AACA;AAAA;;AAAA;AATA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAAA;AAwEA;;AAAA;AAvEA;;;;;;;;ACbA;;;;;;;;;ACAA;AAKA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxBA;AAAA;;AAAA;AAyBA;AAAA;AAxBA;;;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA0CA;AAAA;AACA;AAxCA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAAA;AAEA;AAAA;AADA;;;;;","sourceRoot":""}